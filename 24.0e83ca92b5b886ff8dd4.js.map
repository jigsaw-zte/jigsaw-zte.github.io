{"version":3,"sources":["webpack:///./src/jigsaw/pc-components/upload/upload.base.ts","webpack:///./src/jigsaw/pc-components/upload/upload.base.ts.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/upload/upload.directive.ts","webpack:///./src/jigsaw/pc-components/upload/upload.directive.ts.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/upload/upload.directive.ngfactory.js.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/upload/upload.directive.ts.JigsawUploadFileInfoList.html","webpack:///./src/jigsaw/pc-components/upload/upload.ts","webpack:///./src/jigsaw/pc-components/upload/upload.ts.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/upload/upload.ngfactory.js.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/upload/upload.html","webpack:///./src/app/demo/pc/upload/basic/demo.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/app/demo/pc/upload/basic/demo.component.html","webpack:///./src/app/demo/pc/upload/content-field/demo.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/app/demo/pc/upload/content-field/demo.component.html","webpack:///./src/jigsaw/pc-components/upload/index.ts","webpack:///./src/app/demo/pc/upload/basic/demo.module.ts","webpack:///./src/app/demo/pc/upload/content-field/demo.module.ts","webpack:///./src/app/demo/pc/upload/demo-set.module.ngfactory.js.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/switch/switch.ts","webpack:///./src/jigsaw/pc-components/switch/switch.ts.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/list-and-tile/group-common.ts.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/list-and-tile/group-common.ts","webpack:///./src/jigsaw/pc-components/switch/switch.ngfactory.js.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/switch/switch.html","webpack:///./src/jigsaw/pc-components/switch/index.ts","webpack:///./src/jigsaw/pc-components/input/input.ngfactory.js.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/input/input.html","webpack:///./src/jigsaw/pc-components/input/input.ts.pre-build-optimizer.js","webpack:///./src/jigsaw/pc-components/input/input.ts"],"names":["upload_base_JigsawUploadBase","_super","JigsawUploadBase","_http","_renderer","_elementRef","_translateService","_this","call","this","targetUrl","multiple","contentField","fileNameField","progress","core","remove","complete","start","update","_$uploadMode","_$fileInfoList","tslib_es6","prototype","_$selectFile","$event","preventDefault","stopPropagation","e","document","createEvent","initEvent","_fileInputEl","createElement","setAttribute","common_utils","isIE","body","appendChild","removeAttribute","fileType","_removeFileChangeEvent","listen","_upload","dispatchEvent","files","length","validFiles","_filterValidFiles","Array","from","forEach","file","index","fileInfo","name","state","url","reason","push","_sequenceUpload","emit","console","warn","fileTypes","split","filter","f","find","ft","RegExp","trim","test","_isAllFilesUploaded","formData","FormData","append","encodeURI","post","responseType","subscribe","res","_afterCurFileUploaded","instant","statusText","error","waitingFile","_$removeFile","fileIndex","findIndex","splice","clearFileList","ngOnDestroy","common_common","upload_directive_JigsawUploadDirective","JigsawUploadDirective","_popupService","_rollOutDenouncesTimer","_rollInDenouncesTimer","uploadShowFileList","onClick","onMouseEnter","clearCallLater","_addRollInDenouncesTimer","onMouseLeave","_addRollOutDenouncesTimer","callLater","_popupInfo","popup","upload_directive_JigsawUploadFileInfoList","_getNonModelOptions","element","instance","uploader","optionCount","uploadOptionCount","removable","_closeAllListener","_removeMouseOverHandler","_removeMouseOutHandler","_closePopup","modal","showEffect","popup_service","fadeIn","hideEffect","fadeOut","pos","posOffset","top","nativeElement","offsetHeight","posReviser","popupElement","positionReviser","offsetWidth","size","width","posType","absolute","dispose","_recalculatePopupPosition","setTimeout","setPosition","JigsawUploadFileInfoList","apply","arguments","RenderType_JigsawUploadFileInfoList","encapsulation","styles","data","View_JigsawUploadFileInfoList_2","_l","ngx_translate_core","_ck","_v","transform","View_JigsawUploadFileInfoList_3","View_JigsawUploadFileInfoList_4","View_JigsawUploadFileInfoList_5","parent","context","$implicit","View_JigsawUploadFileInfoList_6","en","ad","_co","component","View_JigsawUploadFileInfoList_1","common","ngSwitch","ngSwitchCase","ngIf","View_JigsawUploadFileInfoList_0","ngx_perfect_scrollbar_es5","config","wheelSpeed","minScrollbarLength","ngForOf","currVal_2","initData","View_JigsawUploadFileInfoList_Host_0","JigsawUploadFileInfoListNgFactory","basicClass","height","maxHeight","upload_JigsawUpload","JigsawUpload","ngAfterViewInit","_fileInput","undefined","_$fileDragEnterHandle","dragInfo","event","dataTransfer","dropEffect","effectAllowed","addClass","_$fileDragOverHandle","_$fileDragLeaveHandle","removeClass","_$fileDropHandle","RenderType_JigsawUpload","View_JigsawUpload_1","View_JigsawUpload_0","_dragEnterHandle","_dragLeaveHandle","_dropHandle","droppable","jigsawDragEnter","jigsawDragLeave","jigsawDragOver","jigsawDrop","_onClick","button_ngfactory","button_button","disabled","_clicked","preSize","colorType","RenderType_UploadBasicDemoComponent","View_UploadBasicDemoComponent_1","loading_ngfactory","loading","color","View_UploadBasicDemoComponent_2","View_UploadBasicDemoComponent_0","uploadDirectives","demo_description_ngfactory","demo_description","content","summary","switch_ngfactory","fesm5_forms","p0_0","switch_switch","onLabel","offLabel","checked","checkedChange","radio_lite_ngfactory","radio_lite","value","valueChange","getUploadFile","getAllUploadFiles","http","showUploadFileName","isButtonUploadWaiting","isLinkUploadWaiting","description","currVal_9","valid","uploadedFile","View_UploadBasicDemoComponent_Host_0","demo_component","UploadBasicDemoComponentNgFactory","RenderType_UploadContentFieldDemoComponent","View_UploadContentFieldDemoComponent_0","_$stopPropagation","input_ngfactory","input","focused","View_UploadContentFieldDemoComponent_Host_0","content_field_demo_component","UploadContentFieldDemoComponentNgFactory","upload_JigsawUploadModule","translateService","internal_utils","initI18n","zh","waiting","uploading","done","failed","dragHere","selectFile","Bad Request","Unauthorized","Payment Required","Forbidden","Not Found","Method Not Allowed","Not Acceptable","Proxy Authentication Required","Request Timeout","Conflict","Gone","Length Required","Precondition Failed","Request Entity Too Large","Request-URI Too Long","Unsupported Media Type","Requested Range Not Satisfiable","Expectation Failed","Authentication Timeout","Unprocessable Entity","Locked","Failed Dependency","Upgrade Required","Precondition Required","Too Many Requests","Login Timeout","No Response","Retry With;","Request Header Too Large","Cert Error","No Cert","HTTP to HTTPS","Client Closed Request","Internal Server Error","Not Implemented","Bad Gateway","Service Unavailable","Gateway Timeout","HTTP Version Not Supported","Variant Also Negotiates","Insufficient Storage","Loop Detected","Bandwidth Limit Exceeded","Not Extended","Network Authentication Required","Network read timeout error","Network connect timeout error","Retry With","setDefaultLang","getBrowserLang","translate_helper","languageChangEvent","langInfo","use","curLang","UploadBasicDemoModule","UploadContentFieldDemoModule","__webpack_require__","d","__webpack_exports__","UploadDemoModuleNgFactory","demo_set_module","router_ngfactory","block_ngfactory","router","dragdrop","markdown","pc_components_switch","radio_radio","block","path","JigsawSwitch","_angular_core__WEBPACK_IMPORTED_MODULE_0__","_checked","change","_disabled","_propagateChange","Object","defineProperty","get","set","writeValue","enumerable","configurable","_setSwitchClass","_$switchClick","_$switchClass","jigsaw-switch","jigsaw-switch-small","jigsaw-switch-checked","jigsaw-switch-disabled","_setInnerValue","_$content","ngOnInit","registerOnChange","fn","registerOnTouched","AbstractJigsawGroupComponent","AbstractJigsawOptionComponent","tslib__WEBPACK_IMPORTED_MODULE_0__","_common_common__WEBPACK_IMPORTED_MODULE_1__","_angular_core__WEBPACK_IMPORTED_MODULE_2__","_common_core_utils_common_utils__WEBPACK_IMPORTED_MODULE_3__","_common_core_data_array_collection__WEBPACK_IMPORTED_MODULE_4__","_trackItemBy","autoRemoveInvalidValue","_selectedItems","selectedItemsChange","newValue","_removeInvalidSelectedItems","_items","needRefresh","concat","selectedItem","item","compareWithKeyProperty","selectedItems","indexOf","_updateSelectItems","itemValue","selected","multipleSelect","selectedItemValue","refresh","_updateSelectItemsForForm","_setItemState","items","hasSelected","_subscribeItemSelectedChange","observers","_removeRefreshCallback","onRefresh","ngAfterContentInit","_removeItemsChanges","changes","unsubscribe","_setSelectedItems","initialized","selectedChange","RenderType_JigsawSwitch","View_JigsawSwitch_0","_angular_common__WEBPACK_IMPORTED_MODULE_1__","ngClass","JigsawSwitchModule","RenderType_JigsawInput","View_JigsawInput_0","_angular_common__WEBPACK_IMPORTED_MODULE_2__","_angular_forms__WEBPACK_IMPORTED_MODULE_3__","View_JigsawInput_1","_$clearValue","_inputElement","_handleInput","target","onTouched","_compositionStart","_compositionEnd","_$handleBlur","_$handleFocus","isDisabled","model","clearable","placeholder","type","ngClassUntouched","ngClassTouched","ngClassPristine","ngClassDirty","ngClassValid","ngClassInvalid","ngClassPending","JigsawInput","JigsawInputModule","_angular_core__WEBPACK_IMPORTED_MODULE_1__","_common_common__WEBPACK_IMPORTED_MODULE_2__","password","_focusEmitter","_blurEmitter","_value","_placeholder","_focused","blurOnClear","isUndefined","toString","txt","focus","select"],"mappings":"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","file":"24.0e83ca92b5b886ff8dd4.js","sourcesContent":["import {AbstractJigsawComponent} from \"../../common/common\";\nimport {ElementRef, EventEmitter, Input, OnDestroy, Optional, Output, Renderer2} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {CommonUtils} from \"../../common/core/utils/common-utils\";\n\nexport type UploadFileInfo = {\n    name: string, url: string, file: File, reason: string,\n    state: 'pause' | 'loading' | 'success' | 'error'\n};\n\nexport class JigsawUploadBase extends AbstractJigsawComponent implements OnDestroy {\n    constructor(@Optional() protected _http: HttpClient,\n                protected _renderer: Renderer2,\n                protected _elementRef: ElementRef,\n                @Optional() protected _translateService: TranslateService) {\n        super();\n    }\n\n    @Input()\n    public targetUrl: string = '/rdk/service/common/upload';\n\n    @Input()\n    public fileType: string;\n\n    @Input()\n    public multiple: boolean = true;\n\n    @Input()\n    public contentField: string = 'file';\n\n    @Input()\n    public fileNameField: string = 'filename';\n\n    @Output()\n    public progress = new EventEmitter<UploadFileInfo>();\n\n    @Output()\n    public remove = new EventEmitter<UploadFileInfo>();\n\n    @Output()\n    public complete = new EventEmitter<UploadFileInfo[]>();\n\n    @Output()\n    public start = new EventEmitter<void>();\n\n    @Output()\n    public update = new EventEmitter<UploadFileInfo[]>();\n\n    public _$uploadMode: 'select' | 'selectAndList' = 'select';\n\n    public _$fileInfoList: UploadFileInfo[] = [];\n\n    protected _fileInputEl: Element;\n\n    private _removeFileChangeEvent: Function;\n\n    /**\n     * @internal\n     */\n    public _$selectFile($event) {\n        $event.preventDefault();\n        $event.stopPropagation();\n        let e = document.createEvent(\"MouseEvent\");\n        e.initEvent(\"click\", true, true);\n\n        if (!this._fileInputEl) {\n            this._fileInputEl = document.createElement('input');\n            this._fileInputEl.setAttribute('type', 'file');\n            if(CommonUtils.isIE()){\n                //指令模式动态创建的input不在dom中的时候，ie11无法监听click事件，此处将其加入body中，设置其不可见\n                this._fileInputEl.setAttribute('display', 'none');\n                document.body.appendChild(this._fileInputEl);\n            }\n        }\n        if (this.multiple) {\n            this._fileInputEl.setAttribute('multiple', 'true');\n        } else {\n            this._fileInputEl.removeAttribute('multiple');\n        }\n        this._fileInputEl.setAttribute('accept', this.fileType);\n\n        this._removeFileChangeEvent = this._removeFileChangeEvent ? this._removeFileChangeEvent :\n            this._renderer.listen(this._fileInputEl, 'change', () => {\n                this._upload();\n            });\n\n        this._fileInputEl.dispatchEvent(e);\n    }\n\n    protected _upload(files?: FileList) {\n        if (!files) {\n            const fileInput = this._fileInputEl;\n            files = fileInput['files'];\n        }\n\n        if (!files || !files.length) {\n            console.warn('there are no upload files');\n            return;\n        }\n\n        let validFiles = this._filterValidFiles(Array.from(files));\n        this._$fileInfoList = this._filterValidFiles(this._$fileInfoList);\n\n        validFiles.forEach((file: File, index) => {\n            const fileInfo: UploadFileInfo = {\n                name: file.name, state: 'pause', url: '', file: file, reason: ''\n            };\n            if (this.multiple) {\n                this._$fileInfoList.push(fileInfo);\n            } else {\n                this._$fileInfoList = [fileInfo];\n            }\n            if (index < 5) {\n                this._sequenceUpload(fileInfo);\n            }\n        });\n\n        this._$uploadMode = 'selectAndList';\n        this.start.emit();\n\n        if (this._fileInputEl) {\n            this._fileInputEl['value'] = null;\n        }\n    }\n\n    private _filterValidFiles(files) {\n        if (!this.fileType) return files;\n        const fileTypes = this.fileType.split(',');\n        return files.filter(f =>\n            !!fileTypes.find(ft => new RegExp(`${ft.trim()}$`,'i').test(f.name)));\n    }\n\n    private _isAllFilesUploaded(): boolean {\n        return !this._$fileInfoList.find(f => f.state == 'loading' || f.state == 'pause');\n    }\n\n    private _sequenceUpload(fileInfo: UploadFileInfo) {\n        fileInfo.state = 'loading';\n        const formData = new FormData();\n        formData.append(this.contentField, fileInfo.file);\n        const fileNameField = this.fileNameField ? this.fileNameField.trim() : '';\n        if (fileNameField) {\n            formData.append(fileNameField, encodeURI(fileInfo.file.name));\n        }\n        if (!this._http) {\n            console.error('Jigsaw upload pc-components must inject HttpClientModule, please import it to the module!');\n            return;\n        }\n        this._http.post(this.targetUrl, formData, {responseType: 'text'}).subscribe(res => {\n            fileInfo.state = 'success';\n            fileInfo.url = res;\n            fileInfo.reason = '';\n            this._afterCurFileUploaded(fileInfo);\n        }, (e) => {\n            fileInfo.state = 'error';\n            fileInfo.reason = this._translateService.instant(`upload.${e.statusText}`);\n            this._afterCurFileUploaded(fileInfo);\n        });\n    }\n\n    private _afterCurFileUploaded(fileInfo: UploadFileInfo) {\n        this.progress.emit(fileInfo);\n\n        const waitingFile = this._$fileInfoList.find(f => f.state == 'pause');\n        if (waitingFile) {\n            this._sequenceUpload(waitingFile)\n        } else if (this._isAllFilesUploaded()) {\n            this.complete.emit(this._$fileInfoList);\n            this.update.emit(this._$fileInfoList)\n        }\n    }\n\n    public _$removeFile(file) {\n        this.remove.emit(file);\n        const fileIndex = this._$fileInfoList.findIndex(f => f == file);\n        if (fileIndex == -1) return;\n        this._$fileInfoList.splice(fileIndex, 1);\n        if (this._isAllFilesUploaded()) {\n            this.update.emit(this._$fileInfoList);\n        }\n        if (this._fileInputEl) {\n            this._fileInputEl['value'] = null;\n        }\n    }\n\n    public clearFileList() {\n        this._$fileInfoList = [];\n    }\n\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        if (this._removeFileChangeEvent) {\n            this._removeFileChangeEvent();\n            this._removeFileChangeEvent = null;\n        }\n\n        this._fileInputEl = null;\n    }\n\n}\n","import * as tslib_1 from \"tslib\";\nimport { AbstractJigsawComponent } from \"../../common/common\";\nimport { ElementRef, EventEmitter, OnDestroy, Renderer2 } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { TranslateService } from \"@ngx-translate/core\";\nimport { CommonUtils } from \"../../common/core/utils/common-utils\";\nvar JigsawUploadBase = /** @class */ (function (_super) {\n    tslib_1.__extends(JigsawUploadBase, _super);\n    function JigsawUploadBase(_http, _renderer, _elementRef, _translateService) {\n        var _this = _super.call(this) || this;\n        _this._http = _http;\n        _this._renderer = _renderer;\n        _this._elementRef = _elementRef;\n        _this._translateService = _translateService;\n        _this.targetUrl = '/rdk/service/common/upload';\n        _this.multiple = true;\n        _this.contentField = 'file';\n        _this.fileNameField = 'filename';\n        _this.progress = new EventEmitter();\n        _this.remove = new EventEmitter();\n        _this.complete = new EventEmitter();\n        _this.start = new EventEmitter();\n        _this.update = new EventEmitter();\n        _this._$uploadMode = 'select';\n        _this._$fileInfoList = [];\n        return _this;\n    }\n    /**\n     * @internal\n     */\n    JigsawUploadBase.prototype._$selectFile = function ($event) {\n        var _this = this;\n        $event.preventDefault();\n        $event.stopPropagation();\n        var e = document.createEvent(\"MouseEvent\");\n        e.initEvent(\"click\", true, true);\n        if (!this._fileInputEl) {\n            this._fileInputEl = document.createElement('input');\n            this._fileInputEl.setAttribute('type', 'file');\n            if (CommonUtils.isIE()) {\n                //指令模式动态创建的input不在dom中的时候，ie11无法监听click事件，此处将其加入body中，设置其不可见\n                this._fileInputEl.setAttribute('display', 'none');\n                document.body.appendChild(this._fileInputEl);\n            }\n        }\n        if (this.multiple) {\n            this._fileInputEl.setAttribute('multiple', 'true');\n        }\n        else {\n            this._fileInputEl.removeAttribute('multiple');\n        }\n        this._fileInputEl.setAttribute('accept', this.fileType);\n        this._removeFileChangeEvent = this._removeFileChangeEvent ? this._removeFileChangeEvent :\n            this._renderer.listen(this._fileInputEl, 'change', function () {\n                _this._upload();\n            });\n        this._fileInputEl.dispatchEvent(e);\n    };\n    JigsawUploadBase.prototype._upload = function (files) {\n        var _this = this;\n        if (!files) {\n            var fileInput = this._fileInputEl;\n            files = fileInput['files'];\n        }\n        if (!files || !files.length) {\n            console.warn('there are no upload files');\n            return;\n        }\n        var validFiles = this._filterValidFiles(Array.from(files));\n        this._$fileInfoList = this._filterValidFiles(this._$fileInfoList);\n        validFiles.forEach(function (file, index) {\n            var fileInfo = {\n                name: file.name, state: 'pause', url: '', file: file, reason: ''\n            };\n            if (_this.multiple) {\n                _this._$fileInfoList.push(fileInfo);\n            }\n            else {\n                _this._$fileInfoList = [fileInfo];\n            }\n            if (index < 5) {\n                _this._sequenceUpload(fileInfo);\n            }\n        });\n        this._$uploadMode = 'selectAndList';\n        this.start.emit();\n        if (this._fileInputEl) {\n            this._fileInputEl['value'] = null;\n        }\n    };\n    JigsawUploadBase.prototype._filterValidFiles = function (files) {\n        if (!this.fileType)\n            return files;\n        var fileTypes = this.fileType.split(',');\n        return files.filter(function (f) {\n            return !!fileTypes.find(function (ft) { return new RegExp(ft.trim() + \"$\", 'i').test(f.name); });\n        });\n    };\n    JigsawUploadBase.prototype._isAllFilesUploaded = function () {\n        return !this._$fileInfoList.find(function (f) { return f.state == 'loading' || f.state == 'pause'; });\n    };\n    JigsawUploadBase.prototype._sequenceUpload = function (fileInfo) {\n        var _this = this;\n        fileInfo.state = 'loading';\n        var formData = new FormData();\n        formData.append(this.contentField, fileInfo.file);\n        var fileNameField = this.fileNameField ? this.fileNameField.trim() : '';\n        if (fileNameField) {\n            formData.append(fileNameField, encodeURI(fileInfo.file.name));\n        }\n        if (!this._http) {\n            console.error('Jigsaw upload pc-components must inject HttpClientModule, please import it to the module!');\n            return;\n        }\n        this._http.post(this.targetUrl, formData, { responseType: 'text' }).subscribe(function (res) {\n            fileInfo.state = 'success';\n            fileInfo.url = res;\n            fileInfo.reason = '';\n            _this._afterCurFileUploaded(fileInfo);\n        }, function (e) {\n            fileInfo.state = 'error';\n            fileInfo.reason = _this._translateService.instant(\"upload.\" + e.statusText);\n            _this._afterCurFileUploaded(fileInfo);\n        });\n    };\n    JigsawUploadBase.prototype._afterCurFileUploaded = function (fileInfo) {\n        this.progress.emit(fileInfo);\n        var waitingFile = this._$fileInfoList.find(function (f) { return f.state == 'pause'; });\n        if (waitingFile) {\n            this._sequenceUpload(waitingFile);\n        }\n        else if (this._isAllFilesUploaded()) {\n            this.complete.emit(this._$fileInfoList);\n            this.update.emit(this._$fileInfoList);\n        }\n    };\n    JigsawUploadBase.prototype._$removeFile = function (file) {\n        this.remove.emit(file);\n        var fileIndex = this._$fileInfoList.findIndex(function (f) { return f == file; });\n        if (fileIndex == -1)\n            return;\n        this._$fileInfoList.splice(fileIndex, 1);\n        if (this._isAllFilesUploaded()) {\n            this.update.emit(this._$fileInfoList);\n        }\n        if (this._fileInputEl) {\n            this._fileInputEl['value'] = null;\n        }\n    };\n    JigsawUploadBase.prototype.clearFileList = function () {\n        this._$fileInfoList = [];\n    };\n    JigsawUploadBase.prototype.ngOnDestroy = function () {\n        _super.prototype.ngOnDestroy.call(this);\n        if (this._removeFileChangeEvent) {\n            this._removeFileChangeEvent();\n            this._removeFileChangeEvent = null;\n        }\n        this._fileInputEl = null;\n    };\n    return JigsawUploadBase;\n}(AbstractJigsawComponent));\nexport { JigsawUploadBase };\n","import {\n    Component,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    Input,\n    OnDestroy,\n    Optional,\n    Output,\n    Renderer2\n} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {\n    ButtonInfo, IPopupable, PopupEffect, PopupInfo, PopupOptions, PopupPositionType, PopupPositionValue, PopupService\n} from \"../../common/service/popup.service\";\nimport {JigsawUploadBase, UploadFileInfo} from \"./upload.base\";\nimport {AbstractJigsawComponent} from \"../../common/common\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n@Directive({\n    selector: '[j-upload], [jigsaw-upload]'\n})\nexport class JigsawUploadDirective extends JigsawUploadBase implements OnDestroy {\n    constructor(@Optional() protected _http: HttpClient,\n                protected _renderer: Renderer2,\n                protected _elementRef: ElementRef,\n                private _popupService: PopupService,\n                @Optional() protected _translateService: TranslateService) {\n        super(_http, _renderer, _elementRef, _translateService);\n    }\n\n    private _removeMouseOverHandler: Function;\n    private _removeMouseOutHandler: Function;\n    private _rollOutDenouncesTimer: any = null;\n    private _rollInDenouncesTimer: any = null;\n\n    @Input('uploadTargetUrl')\n    public targetUrl: string = '/rdk/service/common/upload';\n\n    @Input('uploadFileType')\n    public fileType: string;\n\n    @Input('uploadMultiple')\n    public multiple: boolean = true;\n\n    @Input('uploadContentField')\n    public contentField: string = 'file';\n\n    @Input('uploadFileNameField')\n    public fileNameField: string = 'filename';\n\n    @Output('uploadProgress')\n    public progress = new EventEmitter<UploadFileInfo>();\n\n    @Output('uploadRemove')\n    public remove = new EventEmitter<UploadFileInfo>();\n\n    @Output('uploadComplete')\n    public complete = new EventEmitter<UploadFileInfo[]>();\n\n    @Output('uploadStart')\n    public start = new EventEmitter<void>();\n\n    @Output('uploadUpdate')\n    public update = new EventEmitter<UploadFileInfo[]>();\n\n    @Input()\n    public uploadOptionCount: number;\n\n    @Input()\n    public uploadShowFileList: boolean = true;\n\n    @HostListener('click', ['$event'])\n    onClick($event) {\n        this._$selectFile($event);\n    }\n\n    @HostListener('mouseenter', ['$event'])\n    onMouseEnter() {\n        if (!this._$fileInfoList.length || !this.uploadShowFileList) {\n            return;\n        }\n        this.clearCallLater(this._rollOutDenouncesTimer);\n        this._addRollInDenouncesTimer();\n    }\n\n    @HostListener('mouseleave', ['$event'])\n    onMouseLeave() {\n        if (!this.uploadShowFileList) {\n            return;\n        }\n        this.clearCallLater(this._rollInDenouncesTimer);\n        this._addRollOutDenouncesTimer();\n    }\n\n    private _addRollInDenouncesTimer() {\n        this._rollInDenouncesTimer = this.callLater(() => {\n            if (this._popupInfo) {\n                return;\n            }\n            this._popupInfo = this._popupService.popup(JigsawUploadFileInfoList, this._getNonModelOptions(), this._$fileInfoList);\n\n            if (!this._popupInfo || !this._popupInfo.element || !this._popupInfo.instance) {\n                console.error('unable to popup drop down, unknown error!');\n                return;\n            }\n\n            if (this._popupInfo.instance instanceof JigsawUploadFileInfoList) {\n                this._popupInfo.instance.uploader = this;\n                this._popupInfo.instance.optionCount = this.uploadOptionCount;\n                this._popupInfo.instance.removable = false;\n            }\n\n            this._closeAllListener();\n            this._removeMouseOverHandler = this._renderer.listen(\n                this._popupInfo.element, 'mouseenter',\n                () => this.clearCallLater(this._rollOutDenouncesTimer));\n            this._removeMouseOutHandler = this._renderer.listen(\n                this._popupInfo.element, 'mouseleave', () => {\n                    this._addRollOutDenouncesTimer();\n                });\n        }, 100);\n    }\n\n    private _addRollOutDenouncesTimer() {\n        this._rollOutDenouncesTimer = this.callLater(() => {\n            this._closePopup();\n        }, 400);\n    }\n\n    private _popupInfo: PopupInfo;\n\n    private _getNonModelOptions(): PopupOptions {\n        return {\n            modal: false,\n            showEffect: PopupEffect.fadeIn,\n            hideEffect: PopupEffect.fadeOut,\n            pos: this._elementRef,\n            posOffset: {\n                top: this._elementRef.nativeElement.offsetHeight\n            },\n            posReviser: (pos: PopupPositionValue, popupElement: HTMLElement): PopupPositionValue => {\n                return this._popupService.positionReviser(pos, popupElement, {\n                    offsetWidth: this._elementRef.nativeElement.offsetWidth,\n                    offsetHeight: this._elementRef.nativeElement.offsetHeight\n                });\n            },\n            size: {width: 300},\n            posType: PopupPositionType.absolute\n        };\n    }\n\n    private _closePopup() {\n        if (this._popupInfo) {\n            this._popupInfo.dispose();\n            this._popupInfo = null;\n        }\n        this._closeAllListener();\n    }\n\n    private _closeAllListener() {\n        if (this._removeMouseOverHandler) {\n            this._removeMouseOverHandler();\n            this._removeMouseOverHandler = null;\n        }\n        if (this._removeMouseOutHandler) {\n            this._removeMouseOutHandler();\n            this._removeMouseOutHandler = null;\n        }\n    }\n\n    protected _upload() {\n        super._upload();\n        this._recalculatePopupPosition();\n    }\n\n    public _$removeFile(file) {\n        super._$removeFile(file);\n        this._recalculatePopupPosition();\n    }\n\n    private _recalculatePopupPosition() {\n        setTimeout(() => {\n            if (this._popupInfo) {\n                this._popupService.setPosition(this._getNonModelOptions(), this._popupInfo.element);\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this._closePopup();\n    }\n}\n\n@Component({\n    selector: 'jigsaw-upload-file-list, j-upload-file-list',\n    template: `\n        <ul class=\"jigsaw-upload-file-list\" [perfectScrollbar]=\"{wheelSpeed: 0.5, minScrollbarLength: 20}\"\n            [style.width]=\"width\" [style.maxHeight.px]=\"optionCount > 0 ? 40*optionCount : ''\">\n            <li *ngFor=\"let file of initData\" class=\"jigsaw-upload-file\">\n                <div class=\"jigsaw-upload-file-left\">\n                    <span class=\"jigsaw-upload-file-icon fa fa-file\"></span>\n                    <span class=\"jigsaw-upload-file-name\" title=\"{{file.name}}\">{{file.name}}</span>\n                </div>\n                <div [ngSwitch]=\"file.state\" class=\"jigsaw-upload-file-right\">\n                    <ng-container *ngSwitchCase=\"'pause'\">\n                        <span>{{'upload.waiting' | translate}}</span>\n                        <span class=\"jigsaw-upload-pause fa fa-pause-circle\"></span>\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'loading'\">\n                        <span>{{'upload.uploading' | translate}}</span>\n                        <span class=\"jigsaw-upload-loading iconfont iconfont-e8dd jigsaw-am-rotation\"></span>\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'success'\">\n                        <span>{{'upload.done' | translate}}</span>\n                        <span class=\"jigsaw-upload-success fa fa-check-circle\"></span>\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'error'\">\n                        <div [title]=\"file.reason\">\n                            <span>{{'upload.failed' | translate}}</span>\n                            <span class=\"jigsaw-upload-error fa fa-times-circle\"></span>\n                        </div>\n                    </ng-container>\n                </div>\n                <span *ngIf=\"removable\" class=\"jigsaw-upload-file-remove fa fa-trash\" (click)=\"uploader?._$removeFile(file)\"></span>\n            </li>\n        </ul>\n    `\n})\nexport class JigsawUploadFileInfoList extends AbstractJigsawComponent implements IPopupable {\n    public answer: EventEmitter<ButtonInfo>;\n    @Input()\n    public initData: UploadFileInfo[];\n    @Input()\n    public uploader: JigsawUploadDirective;\n    @Input()\n    public optionCount: number = 5;\n\n    public removable: boolean = true;\n}\n","import * as tslib_1 from \"tslib\";\nimport { ElementRef, EventEmitter, OnDestroy, Renderer2 } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { PopupEffect, PopupPositionType, PopupService } from \"../../common/service/popup.service\";\nimport { JigsawUploadBase } from \"./upload.base\";\nimport { AbstractJigsawComponent } from \"../../common/common\";\nimport { TranslateService } from \"@ngx-translate/core\";\nvar JigsawUploadDirective = /** @class */ (function (_super) {\n    tslib_1.__extends(JigsawUploadDirective, _super);\n    function JigsawUploadDirective(_http, _renderer, _elementRef, _popupService, _translateService) {\n        var _this = _super.call(this, _http, _renderer, _elementRef, _translateService) || this;\n        _this._http = _http;\n        _this._renderer = _renderer;\n        _this._elementRef = _elementRef;\n        _this._popupService = _popupService;\n        _this._translateService = _translateService;\n        _this._rollOutDenouncesTimer = null;\n        _this._rollInDenouncesTimer = null;\n        _this.targetUrl = '/rdk/service/common/upload';\n        _this.multiple = true;\n        _this.contentField = 'file';\n        _this.fileNameField = 'filename';\n        _this.progress = new EventEmitter();\n        _this.remove = new EventEmitter();\n        _this.complete = new EventEmitter();\n        _this.start = new EventEmitter();\n        _this.update = new EventEmitter();\n        _this.uploadShowFileList = true;\n        return _this;\n    }\n    JigsawUploadDirective.prototype.onClick = function ($event) {\n        this._$selectFile($event);\n    };\n    JigsawUploadDirective.prototype.onMouseEnter = function () {\n        if (!this._$fileInfoList.length || !this.uploadShowFileList) {\n            return;\n        }\n        this.clearCallLater(this._rollOutDenouncesTimer);\n        this._addRollInDenouncesTimer();\n    };\n    JigsawUploadDirective.prototype.onMouseLeave = function () {\n        if (!this.uploadShowFileList) {\n            return;\n        }\n        this.clearCallLater(this._rollInDenouncesTimer);\n        this._addRollOutDenouncesTimer();\n    };\n    JigsawUploadDirective.prototype._addRollInDenouncesTimer = function () {\n        var _this = this;\n        this._rollInDenouncesTimer = this.callLater(function () {\n            if (_this._popupInfo) {\n                return;\n            }\n            _this._popupInfo = _this._popupService.popup(JigsawUploadFileInfoList, _this._getNonModelOptions(), _this._$fileInfoList);\n            if (!_this._popupInfo || !_this._popupInfo.element || !_this._popupInfo.instance) {\n                console.error('unable to popup drop down, unknown error!');\n                return;\n            }\n            if (_this._popupInfo.instance instanceof JigsawUploadFileInfoList) {\n                _this._popupInfo.instance.uploader = _this;\n                _this._popupInfo.instance.optionCount = _this.uploadOptionCount;\n                _this._popupInfo.instance.removable = false;\n            }\n            _this._closeAllListener();\n            _this._removeMouseOverHandler = _this._renderer.listen(_this._popupInfo.element, 'mouseenter', function () { return _this.clearCallLater(_this._rollOutDenouncesTimer); });\n            _this._removeMouseOutHandler = _this._renderer.listen(_this._popupInfo.element, 'mouseleave', function () {\n                _this._addRollOutDenouncesTimer();\n            });\n        }, 100);\n    };\n    JigsawUploadDirective.prototype._addRollOutDenouncesTimer = function () {\n        var _this = this;\n        this._rollOutDenouncesTimer = this.callLater(function () {\n            _this._closePopup();\n        }, 400);\n    };\n    JigsawUploadDirective.prototype._getNonModelOptions = function () {\n        var _this = this;\n        return {\n            modal: false,\n            showEffect: PopupEffect.fadeIn,\n            hideEffect: PopupEffect.fadeOut,\n            pos: this._elementRef,\n            posOffset: {\n                top: this._elementRef.nativeElement.offsetHeight\n            },\n            posReviser: function (pos, popupElement) {\n                return _this._popupService.positionReviser(pos, popupElement, {\n                    offsetWidth: _this._elementRef.nativeElement.offsetWidth,\n                    offsetHeight: _this._elementRef.nativeElement.offsetHeight\n                });\n            },\n            size: { width: 300 },\n            posType: PopupPositionType.absolute\n        };\n    };\n    JigsawUploadDirective.prototype._closePopup = function () {\n        if (this._popupInfo) {\n            this._popupInfo.dispose();\n            this._popupInfo = null;\n        }\n        this._closeAllListener();\n    };\n    JigsawUploadDirective.prototype._closeAllListener = function () {\n        if (this._removeMouseOverHandler) {\n            this._removeMouseOverHandler();\n            this._removeMouseOverHandler = null;\n        }\n        if (this._removeMouseOutHandler) {\n            this._removeMouseOutHandler();\n            this._removeMouseOutHandler = null;\n        }\n    };\n    JigsawUploadDirective.prototype._upload = function () {\n        _super.prototype._upload.call(this);\n        this._recalculatePopupPosition();\n    };\n    JigsawUploadDirective.prototype._$removeFile = function (file) {\n        _super.prototype._$removeFile.call(this, file);\n        this._recalculatePopupPosition();\n    };\n    JigsawUploadDirective.prototype._recalculatePopupPosition = function () {\n        var _this = this;\n        setTimeout(function () {\n            if (_this._popupInfo) {\n                _this._popupService.setPosition(_this._getNonModelOptions(), _this._popupInfo.element);\n            }\n        });\n    };\n    JigsawUploadDirective.prototype.ngOnDestroy = function () {\n        _super.prototype.ngOnDestroy.call(this);\n        this._closePopup();\n    };\n    return JigsawUploadDirective;\n}(JigsawUploadBase));\nexport { JigsawUploadDirective };\nvar JigsawUploadFileInfoList = /** @class */ (function (_super) {\n    tslib_1.__extends(JigsawUploadFileInfoList, _super);\n    function JigsawUploadFileInfoList() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.optionCount = 5;\n        _this.removable = true;\n        return _this;\n    }\n    return JigsawUploadFileInfoList;\n}(AbstractJigsawComponent));\nexport { JigsawUploadFileInfoList };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ngx-perfect-scrollbar\";\nimport * as i4 from \"./upload.directive\";\nvar styles_JigsawUploadFileInfoList = [];\nvar RenderType_JigsawUploadFileInfoList = i0.ɵcrt({ encapsulation: 2, styles: styles_JigsawUploadFileInfoList, data: {} });\nexport { RenderType_JigsawUploadFileInfoList as RenderType_JigsawUploadFileInfoList };\nfunction View_JigsawUploadFileInfoList_2(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 4, null, null, null, null, null, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 2, \"span\", [], null, null, null, null, null)), (_l()(), i0.ɵted(2, null, [\"\", \"\"])), i0.ɵpid(131072, i1.TranslatePipe, [i1.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(4, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-pause fa fa-pause-circle\"]], null, null, null, null, null))], null, function (_ck, _v) { var currVal_0 = i0.ɵunv(_v, 2, 0, i0.ɵnov(_v, 3).transform(\"upload.waiting\")); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_JigsawUploadFileInfoList_3(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 4, null, null, null, null, null, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 2, \"span\", [], null, null, null, null, null)), (_l()(), i0.ɵted(2, null, [\"\", \"\"])), i0.ɵpid(131072, i1.TranslatePipe, [i1.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(4, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-loading iconfont iconfont-e8dd jigsaw-am-rotation\"]], null, null, null, null, null))], null, function (_ck, _v) { var currVal_0 = i0.ɵunv(_v, 2, 0, i0.ɵnov(_v, 3).transform(\"upload.uploading\")); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_JigsawUploadFileInfoList_4(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 4, null, null, null, null, null, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 2, \"span\", [], null, null, null, null, null)), (_l()(), i0.ɵted(2, null, [\"\", \"\"])), i0.ɵpid(131072, i1.TranslatePipe, [i1.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(4, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-success fa fa-check-circle\"]], null, null, null, null, null))], null, function (_ck, _v) { var currVal_0 = i0.ɵunv(_v, 2, 0, i0.ɵnov(_v, 3).transform(\"upload.done\")); _ck(_v, 2, 0, currVal_0); }); }\nfunction View_JigsawUploadFileInfoList_5(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 5, null, null, null, null, null, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 4, \"div\", [], [[8, \"title\", 0]], null, null, null, null)), (_l()(), i0.ɵeld(2, 0, null, null, 2, \"span\", [], null, null, null, null, null)), (_l()(), i0.ɵted(3, null, [\"\", \"\"])), i0.ɵpid(131072, i1.TranslatePipe, [i1.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(5, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-error fa fa-times-circle\"]], null, null, null, null, null))], null, function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.reason; _ck(_v, 1, 0, currVal_0); var currVal_1 = i0.ɵunv(_v, 3, 0, i0.ɵnov(_v, 4).transform(\"upload.failed\")); _ck(_v, 3, 0, currVal_1); }); }\nfunction View_JigsawUploadFileInfoList_6(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-file-remove fa fa-trash\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (((_co.uploader == null) ? null : _co.uploader._$removeFile(_v.parent.context.$implicit)) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null))], null, null); }\nfunction View_JigsawUploadFileInfoList_1(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 16, \"li\", [[\"class\", \"jigsaw-upload-file\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 3, \"div\", [[\"class\", \"jigsaw-upload-file-left\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(2, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-file-icon fa fa-file\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(3, 0, null, null, 1, \"span\", [[\"class\", \"jigsaw-upload-file-name\"]], [[8, \"title\", 0]], null, null, null, null)), (_l()(), i0.ɵted(4, null, [\"\", \"\"])), (_l()(), i0.ɵeld(5, 0, null, null, 9, \"div\", [[\"class\", \"jigsaw-upload-file-right\"]], null, null, null, null, null)), i0.ɵdid(6, 16384, null, 0, i2.NgSwitch, [], { ngSwitch: [0, \"ngSwitch\"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUploadFileInfoList_2)), i0.ɵdid(8, 278528, null, 0, i2.NgSwitchCase, [i0.ViewContainerRef, i0.TemplateRef, i2.NgSwitch], { ngSwitchCase: [0, \"ngSwitchCase\"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUploadFileInfoList_3)), i0.ɵdid(10, 278528, null, 0, i2.NgSwitchCase, [i0.ViewContainerRef, i0.TemplateRef, i2.NgSwitch], { ngSwitchCase: [0, \"ngSwitchCase\"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUploadFileInfoList_4)), i0.ɵdid(12, 278528, null, 0, i2.NgSwitchCase, [i0.ViewContainerRef, i0.TemplateRef, i2.NgSwitch], { ngSwitchCase: [0, \"ngSwitchCase\"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUploadFileInfoList_5)), i0.ɵdid(14, 278528, null, 0, i2.NgSwitchCase, [i0.ViewContainerRef, i0.TemplateRef, i2.NgSwitch], { ngSwitchCase: [0, \"ngSwitchCase\"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUploadFileInfoList_6)), i0.ɵdid(16, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = _v.context.$implicit.state; _ck(_v, 6, 0, currVal_2); var currVal_3 = \"pause\"; _ck(_v, 8, 0, currVal_3); var currVal_4 = \"loading\"; _ck(_v, 10, 0, currVal_4); var currVal_5 = \"success\"; _ck(_v, 12, 0, currVal_5); var currVal_6 = \"error\"; _ck(_v, 14, 0, currVal_6); var currVal_7 = _co.removable; _ck(_v, 16, 0, currVal_7); }, function (_ck, _v) { var currVal_0 = i0.ɵinlineInterpolate(1, \"\", _v.context.$implicit.name, \"\"); _ck(_v, 3, 0, currVal_0); var currVal_1 = _v.context.$implicit.name; _ck(_v, 4, 0, currVal_1); }); }\nexport function View_JigsawUploadFileInfoList_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 4, \"ul\", [[\"class\", \"jigsaw-upload-file-list\"]], [[4, \"width\", null], [4, \"maxHeight\", \"px\"]], null, null, null, null)), i0.ɵdid(1, 999424, null, 0, i3.PerfectScrollbarDirective, [i0.NgZone, i0.KeyValueDiffers, i0.ElementRef, i0.PLATFORM_ID, [2, i3.PERFECT_SCROLLBAR_CONFIG]], { config: [0, \"config\"] }, null), i0.ɵpod(2, { wheelSpeed: 0, minScrollbarLength: 1 }), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUploadFileInfoList_1)), i0.ɵdid(4, 278528, null, 0, i2.NgForOf, [i0.ViewContainerRef, i0.TemplateRef, i0.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = _ck(_v, 2, 0, 0.5, 20); _ck(_v, 1, 0, currVal_2); var currVal_3 = _co.initData; _ck(_v, 4, 0, currVal_3); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.width; var currVal_1 = ((_co.optionCount > 0) ? (40 * _co.optionCount) : \"\"); _ck(_v, 0, 0, currVal_0, currVal_1); }); }\nexport function View_JigsawUploadFileInfoList_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"jigsaw-upload-file-list\", [], null, null, null, View_JigsawUploadFileInfoList_0, RenderType_JigsawUploadFileInfoList)), i0.ɵdid(1, 245760, null, 0, i4.JigsawUploadFileInfoList, [], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar JigsawUploadFileInfoListNgFactory = i0.ɵccf(\"jigsaw-upload-file-list, j-upload-file-list\", i4.JigsawUploadFileInfoList, View_JigsawUploadFileInfoList_Host_0, { basicClass: \"basicClass\", width: \"width\", height: \"height\", maxHeight: \"maxHeight\", initData: \"initData\", uploader: \"uploader\", optionCount: \"optionCount\" }, {}, []);\nexport { JigsawUploadFileInfoListNgFactory as JigsawUploadFileInfoListNgFactory };\n","\n        <ul class=\"jigsaw-upload-file-list\" [perfectScrollbar]=\"{wheelSpeed: 0.5, minScrollbarLength: 20}\"\n            [style.width]=\"width\" [style.maxHeight.px]=\"optionCount > 0 ? 40*optionCount : ''\">\n            <li *ngFor=\"let file of initData\" class=\"jigsaw-upload-file\">\n                <div class=\"jigsaw-upload-file-left\">\n                    <span class=\"jigsaw-upload-file-icon fa fa-file\"></span>\n                    <span class=\"jigsaw-upload-file-name\" title=\"{{file.name}}\">{{file.name}}</span>\n                </div>\n                <div [ngSwitch]=\"file.state\" class=\"jigsaw-upload-file-right\">\n                    <ng-container *ngSwitchCase=\"'pause'\">\n                        <span>{{'upload.waiting' | translate}}</span>\n                        <span class=\"jigsaw-upload-pause fa fa-pause-circle\"></span>\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'loading'\">\n                        <span>{{'upload.uploading' | translate}}</span>\n                        <span class=\"jigsaw-upload-loading iconfont iconfont-e8dd jigsaw-am-rotation\"></span>\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'success'\">\n                        <span>{{'upload.done' | translate}}</span>\n                        <span class=\"jigsaw-upload-success fa fa-check-circle\"></span>\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'error'\">\n                        <div [title]=\"file.reason\">\n                            <span>{{'upload.failed' | translate}}</span>\n                            <span class=\"jigsaw-upload-error fa fa-times-circle\"></span>\n                        </div>\n                    </ng-container>\n                </div>\n                <span *ngIf=\"removable\" class=\"jigsaw-upload-file-remove fa fa-trash\" (click)=\"uploader?._$removeFile(file)\"></span>\n            </li>\n        </ul>\n    ","import {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    Optional,\n    Renderer2,\n    ViewChild\n} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {JigsawUploadBase} from \"./upload.base\";\nimport {DragDropInfo} from \"../../common/directive/dragdrop/types\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n@Component({\n    selector: 'jigsaw-upload, j-upload',\n    templateUrl: 'upload.html',\n    host: {\n        '[class.jigsaw-upload]': 'true'\n    }\n})\nexport class JigsawUpload extends JigsawUploadBase implements AfterViewInit {\n\n    constructor(@Optional() protected _http: HttpClient,\n                protected _renderer: Renderer2,\n                protected _elementRef: ElementRef,\n                @Optional() protected _translateService: TranslateService) {\n        super(_http, _renderer, _elementRef, _translateService);\n    }\n\n    @ViewChild('fileInput', {static: false})\n    private _fileInput: ElementRef;\n\n    ngAfterViewInit() {\n        this._fileInputEl = this._fileInput ? this._fileInput.nativeElement : undefined;\n    }\n\n    public _$fileDragEnterHandle(dragInfo: DragDropInfo) {\n        dragInfo.event.dataTransfer.dropEffect = 'all';\n        if (dragInfo.event.dataTransfer.effectAllowed == 'all') {\n            this._renderer.addClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n        }\n    }\n\n    public _$fileDragOverHandle(dragInfo: DragDropInfo) {\n        dragInfo.event.dataTransfer.dropEffect = 'all';\n        if (dragInfo.event.dataTransfer.effectAllowed == 'all') {\n            this._renderer.addClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n        }\n    }\n\n    public _$fileDragLeaveHandle(dragInfo: DragDropInfo) {\n        this._renderer.removeClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n    }\n\n    public _$fileDropHandle(dragInfo: DragDropInfo) {\n        this._renderer.removeClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n        this._upload(dragInfo.event.dataTransfer.files);\n    }\n}\n\n","import * as tslib_1 from \"tslib\";\nimport { AfterViewInit, ElementRef, Renderer2 } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { JigsawUploadBase } from \"./upload.base\";\nimport { TranslateService } from \"@ngx-translate/core\";\nvar JigsawUpload = /** @class */ (function (_super) {\n    tslib_1.__extends(JigsawUpload, _super);\n    function JigsawUpload(_http, _renderer, _elementRef, _translateService) {\n        var _this = _super.call(this, _http, _renderer, _elementRef, _translateService) || this;\n        _this._http = _http;\n        _this._renderer = _renderer;\n        _this._elementRef = _elementRef;\n        _this._translateService = _translateService;\n        return _this;\n    }\n    JigsawUpload.prototype.ngAfterViewInit = function () {\n        this._fileInputEl = this._fileInput ? this._fileInput.nativeElement : undefined;\n    };\n    JigsawUpload.prototype._$fileDragEnterHandle = function (dragInfo) {\n        dragInfo.event.dataTransfer.dropEffect = 'all';\n        if (dragInfo.event.dataTransfer.effectAllowed == 'all') {\n            this._renderer.addClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n        }\n    };\n    JigsawUpload.prototype._$fileDragOverHandle = function (dragInfo) {\n        dragInfo.event.dataTransfer.dropEffect = 'all';\n        if (dragInfo.event.dataTransfer.effectAllowed == 'all') {\n            this._renderer.addClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n        }\n    };\n    JigsawUpload.prototype._$fileDragLeaveHandle = function (dragInfo) {\n        this._renderer.removeClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n    };\n    JigsawUpload.prototype._$fileDropHandle = function (dragInfo) {\n        this._renderer.removeClass(this._elementRef.nativeElement, 'jigsaw-upload-drag-over');\n        this._upload(dragInfo.event.dataTransfer.files);\n    };\n    return JigsawUpload;\n}(JigsawUploadBase));\nexport { JigsawUpload };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./upload.directive.ngfactory\";\nimport * as i2 from \"./upload.directive\";\nimport * as i3 from \"../../common/directive/dragdrop/droppable\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"../button/button.ngfactory\";\nimport * as i6 from \"../button/button\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"./upload\";\nimport * as i9 from \"@angular/common/http\";\nvar styles_JigsawUpload = [];\nvar RenderType_JigsawUpload = i0.ɵcrt({ encapsulation: 2, styles: styles_JigsawUpload, data: {} });\nexport { RenderType_JigsawUpload as RenderType_JigsawUpload };\nfunction View_JigsawUpload_1(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 2, \"div\", [[\"class\", \"jigsaw-upload-file-list-container\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 1, \"j-upload-file-list\", [], null, null, null, i1.View_JigsawUploadFileInfoList_0, i1.RenderType_JigsawUploadFileInfoList)), i0.ɵdid(2, 245760, null, 0, i2.JigsawUploadFileInfoList, [], { initData: [0, \"initData\"], uploader: [1, \"uploader\"], optionCount: [2, \"optionCount\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co._$fileInfoList; var currVal_1 = _co; var currVal_2 = null; _ck(_v, 2, 0, currVal_0, currVal_1, currVal_2); }, null); }\nexport function View_JigsawUpload_0(_l) { return i0.ɵvid(0, [i0.ɵqud(671088640, 1, { _fileInput: 0 }), (_l()(), i0.ɵeld(1, 0, null, null, 11, \"div\", [[\"class\", \"jigsaw-upload-select-box\"], [\"jigsaw-droppable\", \"\"]], [[2, \"jigsaw-upload-select-box-small\", null], [4, \"flex-direction\", null], [4, \"height\", null]], [[null, \"jigsawDragEnter\"], [null, \"jigsawDragOver\"], [null, \"jigsawDragLeave\"], [null, \"jigsawDrop\"], [null, \"dragenter\"], [null, \"dragleave\"], [null, \"drop\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"dragenter\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 2)._dragEnterHandle($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"dragleave\" === en)) {\n        var pd_1 = (i0.ɵnov(_v, 2)._dragLeaveHandle($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"drop\" === en)) {\n        var pd_2 = (i0.ɵnov(_v, 2)._dropHandle($event) !== false);\n        ad = (pd_2 && ad);\n    } if ((\"jigsawDragEnter\" === en)) {\n        var pd_3 = (_co._$fileDragEnterHandle($event) !== false);\n        ad = (pd_3 && ad);\n    } if ((\"jigsawDragOver\" === en)) {\n        var pd_4 = (_co._$fileDragOverHandle($event) !== false);\n        ad = (pd_4 && ad);\n    } if ((\"jigsawDragLeave\" === en)) {\n        var pd_5 = (_co._$fileDragLeaveHandle($event) !== false);\n        ad = (pd_5 && ad);\n    } if ((\"jigsawDrop\" === en)) {\n        var pd_6 = (_co._$fileDropHandle($event) !== false);\n        ad = (pd_6 && ad);\n    } return ad; }, null, null)), i0.ɵdid(2, 212992, null, 0, i3.JigsawDroppable, [i0.Renderer2, i0.ElementRef, i0.NgZone], null, { jigsawDragEnter: \"jigsawDragEnter\", jigsawDragLeave: \"jigsawDragLeave\", jigsawDragOver: \"jigsawDragOver\", jigsawDrop: \"jigsawDrop\" }), (_l()(), i0.ɵeld(3, 0, null, null, 0, \"span\", [[\"class\", \"jigsaw-upload-icon fa fa-upload\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(4, 0, null, null, 7, \"div\", [[\"class\", \"jigsaw-upload-select-right\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(5, 0, null, null, 2, \"p\", [[\"class\", \"jigsaw-upload-prompt\"]], null, null, null, null, null)), (_l()(), i0.ɵted(6, null, [\"\", \"\"])), i0.ɵpid(131072, i4.TranslatePipe, [i4.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(8, 0, null, null, 3, \"j-button\", [], [[2, \"jigsaw-button\", null], [2, \"jigsaw-button-disabled\", null], [4, \"min-width\", null], [4, \"height\", null], [2, \"jigsaw-button-clicked\", null], [2, \"jigsaw-button-size-small\", null], [2, \"jigsaw-button-size-large\", null], [2, \"jigsaw-button-color-primary\", null], [2, \"jigsaw-button-color-warning\", null], [2, \"jigsaw-button-color-error\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 9)._onClick() !== false);\n        ad = (pd_0 && ad);\n    } if ((\"click\" === en)) {\n        var pd_1 = (_co._$selectFile($event) !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, i5.View_JigsawButton_0, i5.RenderType_JigsawButton)), i0.ɵdid(9, 245760, null, 0, i6.JigsawButton, [], null, null), (_l()(), i0.ɵted(10, 0, [\"\", \"\"])), i0.ɵpid(131072, i4.TranslatePipe, [i4.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(12, 0, [[1, 0], [\"fileInput\", 1]], null, 0, \"input\", [[\"class\", \"jigsaw-upload-file-input\"], [\"type\", \"file\"]], null, null, null, null, null)), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawUpload_1)), i0.ɵdid(14, 16384, null, 0, i7.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; _ck(_v, 2, 0); _ck(_v, 9, 0); var currVal_15 = (_co._$uploadMode == \"selectAndList\"); _ck(_v, 14, 0, currVal_15); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = (_co._$uploadMode == \"selectAndList\"); var currVal_1 = ((_co._$uploadMode == \"selectAndList\") ? \"row\" : \"column\"); var currVal_2 = ((_co._$uploadMode == \"selectAndList\") ? \"30%\" : \"100%\"); _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2); var currVal_3 = i0.ɵunv(_v, 6, 0, i0.ɵnov(_v, 7).transform(\"upload.dragHere\")); _ck(_v, 6, 0, currVal_3); var currVal_4 = true; var currVal_5 = i0.ɵnov(_v, 9).disabled; var currVal_6 = i0.ɵnov(_v, 9).width; var currVal_7 = i0.ɵnov(_v, 9).height; var currVal_8 = i0.ɵnov(_v, 9)._clicked; var currVal_9 = (i0.ɵnov(_v, 9).preSize === \"small\"); var currVal_10 = (i0.ɵnov(_v, 9).preSize === \"large\"); var currVal_11 = (i0.ɵnov(_v, 9).colorType === \"primary\"); var currVal_12 = (i0.ɵnov(_v, 9).colorType === \"warning\"); var currVal_13 = ((i0.ɵnov(_v, 9).colorType === \"error\") || (i0.ɵnov(_v, 9).colorType === \"danger\")); _ck(_v, 8, 0, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13); var currVal_14 = i0.ɵunv(_v, 10, 0, i0.ɵnov(_v, 11).transform(\"upload.selectFile\")); _ck(_v, 10, 0, currVal_14); }); }\nexport function View_JigsawUpload_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"jigsaw-upload\", [], [[2, \"jigsaw-upload\", null]], null, null, View_JigsawUpload_0, RenderType_JigsawUpload)), i0.ɵdid(1, 4440064, null, 0, i8.JigsawUpload, [[2, i9.HttpClient], i0.Renderer2, i0.ElementRef, [2, i4.TranslateService]], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, function (_ck, _v) { var currVal_0 = true; _ck(_v, 0, 0, currVal_0); }); }\nvar JigsawUploadNgFactory = i0.ɵccf(\"jigsaw-upload, j-upload\", i8.JigsawUpload, View_JigsawUpload_Host_0, { basicClass: \"basicClass\", width: \"width\", height: \"height\", maxHeight: \"maxHeight\", targetUrl: \"targetUrl\", fileType: \"fileType\", multiple: \"multiple\", contentField: \"contentField\", fileNameField: \"fileNameField\" }, { progress: \"progress\", remove: \"remove\", complete: \"complete\", start: \"start\", update: \"update\" }, []);\nexport { JigsawUploadNgFactory as JigsawUploadNgFactory };\n","<div class=\"jigsaw-upload-select-box\" [class.jigsaw-upload-select-box-small]=\"_$uploadMode == 'selectAndList'\"\n       [style.flex-direction]=\"_$uploadMode == 'selectAndList' ? 'row' : 'column'\"\n       [style.height]=\"_$uploadMode == 'selectAndList' ? '30%' : '100%'\"\n       jigsaw-droppable (jigsawDragEnter)=\"_$fileDragEnterHandle($event)\"\n       (jigsawDragOver)=\"_$fileDragOverHandle($event)\"\n       (jigsawDragLeave)=\"_$fileDragLeaveHandle($event)\" (jigsawDrop)=\"_$fileDropHandle($event)\">\n    <span class=\"jigsaw-upload-icon fa fa-upload\"></span>\n    <div class=\"jigsaw-upload-select-right\">\n        <p class=\"jigsaw-upload-prompt\">{{'upload.dragHere' | translate}}</p>\n        <j-button (click)=\"_$selectFile($event)\">{{'upload.selectFile' | translate}}</j-button>\n    </div>\n    <input #fileInput class=\"jigsaw-upload-file-input\" type='file'>\n</div>\n\n<div *ngIf=\"_$uploadMode == 'selectAndList'\" class=\"jigsaw-upload-file-list-container\">\n    <j-upload-file-list [initData]=\"_$fileInfoList\" [uploader]=\"this\" [optionCount]=\"null\"></j-upload-file-list>\n</div>\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../jigsaw/common/components/loading/loading.ngfactory\";\nimport * as i2 from \"../../../../../jigsaw/common/components/loading/loading\";\nimport * as i3 from \"../../../../demo-description/demo-description.ngfactory\";\nimport * as i4 from \"../../../../demo-description/demo-description\";\nimport * as i5 from \"../../../../../jigsaw/pc-components/switch/switch.ngfactory\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../../../../../jigsaw/pc-components/switch/switch\";\nimport * as i8 from \"../../../../../jigsaw/pc-components/radio/radio-lite.ngfactory\";\nimport * as i9 from \"../../../../../jigsaw/pc-components/radio/radio-lite\";\nimport * as i10 from \"../../../../../jigsaw/pc-components/upload/upload.ngfactory\";\nimport * as i11 from \"../../../../../jigsaw/pc-components/upload/upload\";\nimport * as i12 from \"@angular/common/http\";\nimport * as i13 from \"@ngx-translate/core\";\nimport * as i14 from \"../../../../../jigsaw/pc-components/upload/upload.directive\";\nimport * as i15 from \"../../../../../jigsaw/common/service/popup.service\";\nimport * as i16 from \"../../../../../jigsaw/pc-components/button/button.ngfactory\";\nimport * as i17 from \"../../../../../jigsaw/pc-components/button/button\";\nimport * as i18 from \"@angular/common\";\nimport * as i19 from \"./demo.component\";\nvar styles_UploadBasicDemoComponent = [\".common-param-setting[_ngcontent-%COMP%] {\\n            margin-bottom: 30px;\\n        }\\n        .common-param-setting[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{\\n            font-size: 16px;\\n            margin-bottom: 10px;\\n        }\\n        .link-upload[_ngcontent-%COMP%] {\\n            text-decoration: underline;\\n            margin-left: 6px\\n        }\"];\nvar RenderType_UploadBasicDemoComponent = i0.ɵcrt({ encapsulation: 0, styles: styles_UploadBasicDemoComponent, data: {} });\nexport { RenderType_UploadBasicDemoComponent as RenderType_UploadBasicDemoComponent };\nfunction View_UploadBasicDemoComponent_1(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"j-font-loading\", [[\"color\", \"#41addc\"], [\"height\", \"16px\"], [\"width\", \"16px\"]], null, null, null, i1.View_JigsawFontLoading_0, i1.RenderType_JigsawFontLoading)), i0.ɵdid(1, 245760, null, 0, i2.JigsawFontLoading, [i0.Renderer2, i0.ElementRef], { width: [0, \"width\"], height: [1, \"height\"], color: [2, \"color\"] }, null)], function (_ck, _v) { var currVal_0 = \"16px\"; var currVal_1 = \"16px\"; var currVal_2 = \"#41addc\"; _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2); }, null); }\nfunction View_UploadBasicDemoComponent_2(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"j-font-loading\", [[\"color\", \"#41addc\"], [\"height\", \"16px\"], [\"width\", \"16px\"]], null, null, null, i1.View_JigsawFontLoading_0, i1.RenderType_JigsawFontLoading)), i0.ɵdid(1, 245760, null, 0, i2.JigsawFontLoading, [i0.Renderer2, i0.ElementRef], { width: [0, \"width\"], height: [1, \"height\"], color: [2, \"color\"] }, null)], function (_ck, _v) { var currVal_0 = \"16px\"; var currVal_1 = \"16px\"; var currVal_2 = \"#41addc\"; _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2); }, null); }\nexport function View_UploadBasicDemoComponent_0(_l) { return i0.ɵvid(0, [i0.ɵqud(671088640, 1, { uploadDirectives: 1 }), (_l()(), i0.ɵeld(1, 0, null, null, 1, \"jigsaw-demo-description\", [], null, null, null, i3.View_JigsawDemoDescription_0, i3.RenderType_JigsawDemoDescription)), i0.ɵdid(2, 114688, null, 0, i4.JigsawDemoDescription, [], { content: [0, \"content\"], summary: [1, \"summary\"] }, null), (_l()(), i0.ɵeld(3, 0, null, null, 50, \"div\", [[\"class\", \"live-demo-wrap\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(4, 0, null, null, 1, \"h2\", [], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"Upload\"])), (_l()(), i0.ɵeld(6, 0, null, null, 12, \"div\", [[\"class\", \"common-param-setting\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(7, 0, null, null, 1, \"h3\", [], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u914D\\u7F6E\\u53C2\\u6570\"])), (_l()(), i0.ɵted(-1, null, [\" \\u6587\\u4EF6\\u6570\\u76EE\\uFF1A \"])), (_l()(), i0.ɵeld(10, 0, null, null, 2, \"j-switch\", [[\"offLabel\", \"\\u4E0A\\u4F20\\u5355\\u4E2A\\u6587\\u4EF6\"], [\"onLabel\", \"\\u4E0A\\u4F20\\u591A\\u4E2A\\u6587\\u4EF6\"]], [[2, \"jigsaw-switch-host\", null], [2, \"jigsaw-switch-error\", null]], [[null, \"checkedChange\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"checkedChange\" === en)) {\n        var pd_0 = ((_co.multiple = $event) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i5.View_JigsawSwitch_0, i5.RenderType_JigsawSwitch)), i0.ɵprd(5120, null, i6.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i7.JigsawSwitch]), i0.ɵdid(12, 114688, null, 0, i7.JigsawSwitch, [], { onLabel: [0, \"onLabel\"], offLabel: [1, \"offLabel\"], checked: [2, \"checked\"] }, { checkedChange: \"checkedChange\" }), (_l()(), i0.ɵeld(13, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\" \\u6587\\u4EF6\\u7C7B\\u578B\\uFF1A \"])), (_l()(), i0.ɵeld(15, 0, null, null, 3, \"jigsaw-radios-lite\", [], [[2, \"jigsaw-radios-lite\", null], [2, \"jigsaw-radios-error\", null]], [[null, \"valueChange\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"valueChange\" === en)) {\n        var pd_0 = ((_co.fileType = $event) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i8.View_JigsawRadiosLite_0, i8.RenderType_JigsawRadiosLite)), i0.ɵprd(5120, null, i6.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i9.JigsawRadiosLite]), i0.ɵdid(17, 245760, null, 0, i9.JigsawRadiosLite, [], { data: [0, \"data\"], value: [1, \"value\"] }, { valueChange: \"valueChange\" }), i0.ɵpad(18, 4), (_l()(), i0.ɵeld(19, 0, null, null, 4, \"div\", [[\"class\", \"demo-1 live-demo\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(20, 0, null, null, 1, \"h3\", [], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u7EC4\\u4EF6\"])), (_l()(), i0.ɵeld(22, 0, null, null, 1, \"j-upload\", [], [[2, \"jigsaw-upload\", null]], [[null, \"progress\"], [null, \"update\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"progress\" === en)) {\n        var pd_0 = (_co.getUploadFile($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"update\" === en)) {\n        var pd_1 = (_co.getAllUploadFiles($event) !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, i10.View_JigsawUpload_0, i10.RenderType_JigsawUpload)), i0.ɵdid(23, 4440064, null, 0, i11.JigsawUpload, [[2, i12.HttpClient], i0.Renderer2, i0.ElementRef, [2, i13.TranslateService]], { fileType: [0, \"fileType\"], multiple: [1, \"multiple\"] }, { progress: \"progress\", update: \"update\" }), (_l()(), i0.ɵeld(24, 0, null, null, 29, \"div\", [[\"class\", \"demo-2 live-demo\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(25, 0, null, null, 1, \"h3\", [], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u6307\\u4EE4\"])), (_l()(), i0.ɵeld(27, 0, null, null, 1, \"span\", [[\"style\", \"font-weight: bold;\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u5E38\\u89C1\\u6A21\\u5F0F\\uFF1A\"])), (_l()(), i0.ɵeld(29, 0, [[\"normalUpload\", 1]], null, 2, \"a\", [[\"class\", \"link-upload\"], [\"j-upload\", \"\"]], null, [[null, \"uploadStart\"], [null, \"uploadComplete\"], [null, \"click\"], [null, \"mouseenter\"], [null, \"mouseleave\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 30).onClick($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"mouseenter\" === en)) {\n        var pd_1 = (i0.ɵnov(_v, 30).onMouseEnter($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"mouseleave\" === en)) {\n        var pd_2 = (i0.ɵnov(_v, 30).onMouseLeave($event) !== false);\n        ad = (pd_2 && ad);\n    } if ((\"uploadStart\" === en)) {\n        var pd_3 = (_co.showUploadFileName() !== false);\n        ad = (pd_3 && ad);\n    } if ((\"uploadComplete\" === en)) {\n        var pd_4 = (_co.showUploadFileName($event) !== false);\n        ad = (pd_4 && ad);\n    } return ad; }, null, null)), i0.ɵdid(30, 212992, null, 0, i14.JigsawUploadDirective, [[2, i12.HttpClient], i0.Renderer2, i0.ElementRef, i15.PopupService, [2, i13.TranslateService]], { multiple: [0, \"multiple\"], uploadShowFileList: [1, \"uploadShowFileList\"] }, { complete: \"uploadComplete\", start: \"uploadStart\" }), (_l()(), i0.ɵted(-1, null, [\"\\u4E0A\\u4F20\\u6587\\u4EF6\"])), (_l()(), i0.ɵeld(32, 0, null, null, 1, \"span\", [], null, null, null, null, null)), (_l()(), i0.ɵted(33, null, [\"\", \"\"])), (_l()(), i0.ɵeld(34, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(35, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(36, 0, null, null, 1, \"span\", [[\"style\", \"font-weight: bold;\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u6781\\u7B80\\u6A21\\u5F0F\\uFF1A\"])), (_l()(), i0.ɵeld(38, 0, null, null, 5, \"j-button\", [[\"j-upload\", \"\"]], [[2, \"jigsaw-button\", null], [2, \"jigsaw-button-disabled\", null], [4, \"min-width\", null], [4, \"height\", null], [2, \"jigsaw-button-clicked\", null], [2, \"jigsaw-button-size-small\", null], [2, \"jigsaw-button-size-large\", null], [2, \"jigsaw-button-color-primary\", null], [2, \"jigsaw-button-color-warning\", null], [2, \"jigsaw-button-color-error\", null]], [[null, \"uploadStart\"], [null, \"uploadProgress\"], [null, \"uploadComplete\"], [null, \"click\"], [null, \"mouseenter\"], [null, \"mouseleave\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 39).onClick($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"mouseenter\" === en)) {\n        var pd_1 = (i0.ɵnov(_v, 39).onMouseEnter($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"mouseleave\" === en)) {\n        var pd_2 = (i0.ɵnov(_v, 39).onMouseLeave($event) !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        var pd_3 = (i0.ɵnov(_v, 40)._onClick() !== false);\n        ad = (pd_3 && ad);\n    } if ((\"uploadStart\" === en)) {\n        var pd_4 = ((_co.isButtonUploadWaiting = true) !== false);\n        ad = (pd_4 && ad);\n    } if ((\"uploadProgress\" === en)) {\n        var pd_5 = (_co.getUploadFile($event) !== false);\n        ad = (pd_5 && ad);\n    } if ((\"uploadComplete\" === en)) {\n        var pd_6 = (_co.getAllUploadFiles($event, \"button\") !== false);\n        ad = (pd_6 && ad);\n    } return ad; }, i16.View_JigsawButton_0, i16.RenderType_JigsawButton)), i0.ɵdid(39, 212992, [[1, 4]], 0, i14.JigsawUploadDirective, [[2, i12.HttpClient], i0.Renderer2, i0.ElementRef, i15.PopupService, [2, i13.TranslateService]], { fileType: [0, \"fileType\"], multiple: [1, \"multiple\"], uploadOptionCount: [2, \"uploadOptionCount\"] }, { progress: \"uploadProgress\", complete: \"uploadComplete\", start: \"uploadStart\" }), i0.ɵdid(40, 245760, [[\"uploadDirective\", 4]], 0, i17.JigsawButton, [], null, null), (_l()(), i0.ɵand(16777216, null, 0, 1, null, View_UploadBasicDemoComponent_1)), i0.ɵdid(42, 16384, null, 0, i18.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵted(-1, 0, [\" click to upload \"])), (_l()(), i0.ɵeld(44, 0, [[\"uploadDirective\", 1]], null, 2, \"a\", [[\"class\", \"link-upload\"], [\"j-upload\", \"\"]], null, [[null, \"uploadStart\"], [null, \"uploadProgress\"], [null, \"uploadComplete\"], [null, \"click\"], [null, \"mouseenter\"], [null, \"mouseleave\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 45).onClick($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"mouseenter\" === en)) {\n        var pd_1 = (i0.ɵnov(_v, 45).onMouseEnter($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"mouseleave\" === en)) {\n        var pd_2 = (i0.ɵnov(_v, 45).onMouseLeave($event) !== false);\n        ad = (pd_2 && ad);\n    } if ((\"uploadStart\" === en)) {\n        var pd_3 = ((_co.isLinkUploadWaiting = true) !== false);\n        ad = (pd_3 && ad);\n    } if ((\"uploadProgress\" === en)) {\n        var pd_4 = (_co.getUploadFile($event) !== false);\n        ad = (pd_4 && ad);\n    } if ((\"uploadComplete\" === en)) {\n        var pd_5 = (_co.getAllUploadFiles($event, \"link\") !== false);\n        ad = (pd_5 && ad);\n    } return ad; }, null, null)), i0.ɵdid(45, 212992, [[1, 4]], 0, i14.JigsawUploadDirective, [[2, i12.HttpClient], i0.Renderer2, i0.ElementRef, i15.PopupService, [2, i13.TranslateService]], { fileType: [0, \"fileType\"], multiple: [1, \"multiple\"], uploadOptionCount: [2, \"uploadOptionCount\"] }, { progress: \"uploadProgress\", complete: \"uploadComplete\", start: \"uploadStart\" }), (_l()(), i0.ɵted(-1, null, [\"\\u4E0A\\u4F20\\u6587\\u4EF6\"])), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_UploadBasicDemoComponent_2)), i0.ɵdid(48, 16384, null, 0, i18.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i0.ɵeld(49, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(50, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(51, 0, null, null, 1, \"a\", [], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.clearFileList() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i0.ɵted(-1, null, [\"Click here\"])), (_l()(), i0.ɵted(-1, null, [\" to clear the uploaded files. \"]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.description; var currVal_1 = _co.summary; _ck(_v, 2, 0, currVal_0, currVal_1); var currVal_4 = \"\\u4E0A\\u4F20\\u591A\\u4E2A\\u6587\\u4EF6\"; var currVal_5 = \"\\u4E0A\\u4F20\\u5355\\u4E2A\\u6587\\u4EF6\"; var currVal_6 = _co.multiple; _ck(_v, 12, 0, currVal_4, currVal_5, currVal_6); var currVal_9 = _ck(_v, 18, 0, \".png\", \".docx\", \".json\", \".png, .jpg\"); var currVal_10 = _co.fileType; _ck(_v, 17, 0, currVal_9, currVal_10); var currVal_12 = _co.fileType; var currVal_13 = _co.multiple; _ck(_v, 23, 0, currVal_12, currVal_13); var currVal_14 = false; var currVal_15 = false; _ck(_v, 30, 0, currVal_14, currVal_15); var currVal_27 = _co.fileType; var currVal_28 = _co.multiple; var currVal_29 = 4; _ck(_v, 39, 0, currVal_27, currVal_28, currVal_29); _ck(_v, 40, 0); var currVal_30 = _co.isButtonUploadWaiting; _ck(_v, 42, 0, currVal_30); var currVal_31 = _co.fileType; var currVal_32 = _co.multiple; var currVal_33 = 3; _ck(_v, 45, 0, currVal_31, currVal_32, currVal_33); var currVal_34 = _co.isLinkUploadWaiting; _ck(_v, 48, 0, currVal_34); }, function (_ck, _v) { var _co = _v.component; var currVal_2 = true; var currVal_3 = !i0.ɵnov(_v, 12).valid; _ck(_v, 10, 0, currVal_2, currVal_3); var currVal_7 = true; var currVal_8 = !i0.ɵnov(_v, 17).valid; _ck(_v, 15, 0, currVal_7, currVal_8); var currVal_11 = true; _ck(_v, 22, 0, currVal_11); var currVal_16 = _co.uploadedFile; _ck(_v, 33, 0, currVal_16); var currVal_17 = true; var currVal_18 = i0.ɵnov(_v, 40).disabled; var currVal_19 = i0.ɵnov(_v, 40).width; var currVal_20 = i0.ɵnov(_v, 40).height; var currVal_21 = i0.ɵnov(_v, 40)._clicked; var currVal_22 = (i0.ɵnov(_v, 40).preSize === \"small\"); var currVal_23 = (i0.ɵnov(_v, 40).preSize === \"large\"); var currVal_24 = (i0.ɵnov(_v, 40).colorType === \"primary\"); var currVal_25 = (i0.ɵnov(_v, 40).colorType === \"warning\"); var currVal_26 = ((i0.ɵnov(_v, 40).colorType === \"error\") || (i0.ɵnov(_v, 40).colorType === \"danger\")); _ck(_v, 38, 0, currVal_17, currVal_18, currVal_19, currVal_20, currVal_21, currVal_22, currVal_23, currVal_24, currVal_25, currVal_26); }); }\nexport function View_UploadBasicDemoComponent_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"ng-component\", [], null, null, null, View_UploadBasicDemoComponent_0, RenderType_UploadBasicDemoComponent)), i0.ɵdid(1, 49152, null, 0, i19.UploadBasicDemoComponent, [], null, null)], null, null); }\nvar UploadBasicDemoComponentNgFactory = i0.ɵccf(\"ng-component\", i19.UploadBasicDemoComponent, View_UploadBasicDemoComponent_Host_0, {}, {}, []);\nexport { UploadBasicDemoComponentNgFactory as UploadBasicDemoComponentNgFactory };\n","<!-- ignore the following lines, they are not important to this demo -->\n<jigsaw-demo-description [summary]=\"summary\" [content]=\"description\">\n</jigsaw-demo-description>\n\n\n<!-- start to learn the demo from here -->\n\n<div class=\"live-demo-wrap\">\n    <h2>Upload</h2>\n    <div class=\"common-param-setting\">\n        <h3>配置参数</h3>\n        文件数目：\n        <j-switch [(checked)]=\"multiple\" onLabel=\"上传多个文件\" offLabel=\"上传单个文件\"></j-switch>\n        <br>\n        文件类型：\n        <jigsaw-radios-lite [(value)]=\"fileType\" [data]=\"['.png', '.docx', '.json', '.png, .jpg']\">\n        </jigsaw-radios-lite>\n    </div>\n\n    <div class=\"demo-1 live-demo\">\n        <h3>组件</h3>\n        <j-upload [multiple]=\"multiple\" [fileType]=\"fileType\"\n                  (progress)=\"getUploadFile($event)\"\n                  (update)=\"getAllUploadFiles($event)\">\n        </j-upload>\n    </div>\n    <div class=\"demo-2 live-demo\">\n        <h3>指令</h3>\n        <span style=\"font-weight: bold;\">常见模式：</span>\n        <a #normalUpload j-upload [uploadMultiple]=\"false\" [uploadShowFileList]=\"false\"\n           (uploadStart)=\"showUploadFileName()\" (uploadComplete)=\"showUploadFileName($event)\"\n           class=\"link-upload\">上传文件</a>\n        <span>{{uploadedFile}}</span>\n\n        <br><br>\n\n        <span style=\"font-weight: bold;\">极简模式：</span>\n        <j-button #uploadDirective j-upload [uploadMultiple]=\"multiple\" [uploadFileType]=\"fileType\"\n                  (uploadStart)=\"isButtonUploadWaiting = true\" (uploadProgress)=\"getUploadFile($event)\"\n                  (uploadComplete)=\"getAllUploadFiles($event, 'button')\" [uploadOptionCount]=\"4\">\n            <j-font-loading *ngIf=\"isButtonUploadWaiting\" width=\"16px\" height=\"16px\" color=\"#41addc\">\n            </j-font-loading>\n            click to upload\n        </j-button>\n        <a #uploadDirective j-upload [uploadMultiple]=\"multiple\" [uploadFileType]=\"fileType\"\n           [uploadOptionCount]=\"3\" (uploadStart)=\"isLinkUploadWaiting = true\"\n           (uploadProgress)=\"getUploadFile($event)\" (uploadComplete)=\"getAllUploadFiles($event, 'link')\"\n           class=\"link-upload\">上传文件</a>\n        <j-font-loading *ngIf=\"isLinkUploadWaiting\" width=\"16px\" height=\"16px\" color=\"#41addc\"></j-font-loading>\n        <br><br>\n        <a (click)=\"clearFileList()\">Click here</a> to clear the uploaded files.\n    </div>\n</div>\n\n\n\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../demo-description/demo-description.ngfactory\";\nimport * as i2 from \"../../../../demo-description/demo-description\";\nimport * as i3 from \"../../../../../jigsaw/pc-components/input/input.ngfactory\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../../../../jigsaw/pc-components/input/input\";\nimport * as i6 from \"../../../../../jigsaw/pc-components/button/button.ngfactory\";\nimport * as i7 from \"../../../../../jigsaw/pc-components/upload/upload.directive\";\nimport * as i8 from \"@angular/common/http\";\nimport * as i9 from \"../../../../../jigsaw/common/service/popup.service\";\nimport * as i10 from \"@ngx-translate/core\";\nimport * as i11 from \"../../../../../jigsaw/pc-components/button/button\";\nimport * as i12 from \"../../../../../jigsaw/pc-components/upload/upload.ngfactory\";\nimport * as i13 from \"../../../../../jigsaw/pc-components/upload/upload\";\nimport * as i14 from \"./demo.component\";\nvar styles_UploadContentFieldDemoComponent = [\"\"];\nvar RenderType_UploadContentFieldDemoComponent = i0.ɵcrt({ encapsulation: 0, styles: styles_UploadContentFieldDemoComponent, data: {} });\nexport { RenderType_UploadContentFieldDemoComponent as RenderType_UploadContentFieldDemoComponent };\nexport function View_UploadContentFieldDemoComponent_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"jigsaw-demo-description\", [], null, null, null, i1.View_JigsawDemoDescription_0, i1.RenderType_JigsawDemoDescription)), i0.ɵdid(1, 114688, null, 0, i2.JigsawDemoDescription, [], { content: [0, \"content\"], summary: [1, \"summary\"] }, null), (_l()(), i0.ɵeld(2, 0, null, null, 19, \"div\", [[\"class\", \"live-demo-wrap\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(3, 0, null, null, 1, \"label\", [[\"style\", \"width:90px;margin-bottom:16px;\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"contentField: \"])), (_l()(), i0.ɵeld(5, 0, null, null, 2, \"j-input\", [], [[4, \"width\", null], [4, \"height\", null], [2, \"jigsaw-input\", null], [2, \"jigsaw-input-error\", null], [2, \"jigsaw-input-focused\", null], [2, \"jigsaw-input-disabled\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 7)._$stopPropagation($event) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i3.View_JigsawInput_0, i3.RenderType_JigsawInput)), i0.ɵprd(5120, null, i4.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i5.JigsawInput]), i0.ɵdid(7, 245760, [[\"contentField\", 4]], 0, i5.JigsawInput, [], { value: [0, \"value\"] }, null), (_l()(), i0.ɵeld(8, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(9, 0, null, null, 1, \"label\", [[\"style\", \"width:90px;margin-bottom:16px;\"]], null, null, null, null, null)), (_l()(), i0.ɵted(-1, null, [\"fileNameField: \"])), (_l()(), i0.ɵeld(11, 0, null, null, 2, \"j-input\", [], [[4, \"width\", null], [4, \"height\", null], [2, \"jigsaw-input\", null], [2, \"jigsaw-input-error\", null], [2, \"jigsaw-input-focused\", null], [2, \"jigsaw-input-disabled\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 13)._$stopPropagation($event) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, i3.View_JigsawInput_0, i3.RenderType_JigsawInput)), i0.ɵprd(5120, null, i4.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i5.JigsawInput]), i0.ɵdid(13, 245760, [[\"fileNameField\", 4]], 0, i5.JigsawInput, [], { value: [0, \"value\"] }, null), (_l()(), i0.ɵeld(14, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(15, 0, null, null, 3, \"jigsaw-button\", [[\"jigsaw-upload\", \"\"], [\"style\", \"margin-bottom:16px;\"]], [[2, \"jigsaw-button\", null], [2, \"jigsaw-button-disabled\", null], [4, \"min-width\", null], [4, \"height\", null], [2, \"jigsaw-button-clicked\", null], [2, \"jigsaw-button-size-small\", null], [2, \"jigsaw-button-size-large\", null], [2, \"jigsaw-button-color-primary\", null], [2, \"jigsaw-button-color-warning\", null], [2, \"jigsaw-button-color-error\", null]], [[null, \"click\"], [null, \"mouseenter\"], [null, \"mouseleave\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 16).onClick($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"mouseenter\" === en)) {\n        var pd_1 = (i0.ɵnov(_v, 16).onMouseEnter($event) !== false);\n        ad = (pd_1 && ad);\n    } if ((\"mouseleave\" === en)) {\n        var pd_2 = (i0.ɵnov(_v, 16).onMouseLeave($event) !== false);\n        ad = (pd_2 && ad);\n    } if ((\"click\" === en)) {\n        var pd_3 = (i0.ɵnov(_v, 17)._onClick() !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, i6.View_JigsawButton_0, i6.RenderType_JigsawButton)), i0.ɵdid(16, 212992, null, 0, i7.JigsawUploadDirective, [[2, i8.HttpClient], i0.Renderer2, i0.ElementRef, i9.PopupService, [2, i10.TranslateService]], { contentField: [0, \"contentField\"], fileNameField: [1, \"fileNameField\"] }, null), i0.ɵdid(17, 245760, null, 0, i11.JigsawButton, [], null, null), (_l()(), i0.ɵted(-1, 0, [\"\\u4E0A\\u4F20 \"])), (_l()(), i0.ɵeld(19, 0, null, null, 0, \"br\", [], null, null, null, null, null)), (_l()(), i0.ɵeld(20, 0, null, null, 1, \"j-upload\", [], [[2, \"jigsaw-upload\", null]], null, null, i12.View_JigsawUpload_0, i12.RenderType_JigsawUpload)), i0.ɵdid(21, 4440064, null, 0, i13.JigsawUpload, [[2, i8.HttpClient], i0.Renderer2, i0.ElementRef, [2, i10.TranslateService]], { contentField: [0, \"contentField\"], fileNameField: [1, \"fileNameField\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.description; var currVal_1 = _co.summary; _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_8 = \"file\"; _ck(_v, 7, 0, currVal_8); var currVal_15 = \"filename\"; _ck(_v, 13, 0, currVal_15); var currVal_26 = i0.ɵnov(_v, 7).value; var currVal_27 = i0.ɵnov(_v, 13).value; _ck(_v, 16, 0, currVal_26, currVal_27); _ck(_v, 17, 0); var currVal_29 = i0.ɵnov(_v, 7).value; var currVal_30 = i0.ɵnov(_v, 13).value; _ck(_v, 21, 0, currVal_29, currVal_30); }, function (_ck, _v) { var currVal_2 = i0.ɵnov(_v, 7).width; var currVal_3 = i0.ɵnov(_v, 7).height; var currVal_4 = true; var currVal_5 = !i0.ɵnov(_v, 7).valid; var currVal_6 = i0.ɵnov(_v, 7).focused; var currVal_7 = i0.ɵnov(_v, 7).disabled; _ck(_v, 5, 0, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7); var currVal_9 = i0.ɵnov(_v, 13).width; var currVal_10 = i0.ɵnov(_v, 13).height; var currVal_11 = true; var currVal_12 = !i0.ɵnov(_v, 13).valid; var currVal_13 = i0.ɵnov(_v, 13).focused; var currVal_14 = i0.ɵnov(_v, 13).disabled; _ck(_v, 11, 0, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13, currVal_14); var currVal_16 = true; var currVal_17 = i0.ɵnov(_v, 17).disabled; var currVal_18 = i0.ɵnov(_v, 17).width; var currVal_19 = i0.ɵnov(_v, 17).height; var currVal_20 = i0.ɵnov(_v, 17)._clicked; var currVal_21 = (i0.ɵnov(_v, 17).preSize === \"small\"); var currVal_22 = (i0.ɵnov(_v, 17).preSize === \"large\"); var currVal_23 = (i0.ɵnov(_v, 17).colorType === \"primary\"); var currVal_24 = (i0.ɵnov(_v, 17).colorType === \"warning\"); var currVal_25 = ((i0.ɵnov(_v, 17).colorType === \"error\") || (i0.ɵnov(_v, 17).colorType === \"danger\")); _ck(_v, 15, 0, currVal_16, currVal_17, currVal_18, currVal_19, currVal_20, currVal_21, currVal_22, currVal_23, currVal_24, currVal_25); var currVal_28 = true; _ck(_v, 20, 0, currVal_28); }); }\nexport function View_UploadContentFieldDemoComponent_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"ng-component\", [], null, null, null, View_UploadContentFieldDemoComponent_0, RenderType_UploadContentFieldDemoComponent)), i0.ɵdid(1, 49152, null, 0, i14.UploadContentFieldDemoComponent, [], null, null)], null, null); }\nvar UploadContentFieldDemoComponentNgFactory = i0.ɵccf(\"ng-component\", i14.UploadContentFieldDemoComponent, View_UploadContentFieldDemoComponent_Host_0, {}, {}, []);\nexport { UploadContentFieldDemoComponentNgFactory as UploadContentFieldDemoComponentNgFactory };\n","<!-- ignore the following lines, they are not important to this demo -->\n<jigsaw-demo-description [summary]=\"summary\" [content]=\"description\">\n</jigsaw-demo-description>\n\n\n<!-- start to learn the demo from here -->\n\n<div class=\"live-demo-wrap\">\n    <label style=\"width:90px;margin-bottom:16px;\">contentField: </label>\n    <j-input #contentField [value]=\"'file'\"></j-input>\n    <br>\n    <label style=\"width:90px;margin-bottom:16px;\">fileNameField: </label>\n    <j-input #fileNameField [value]=\"'filename'\"></j-input>\n    <br>\n    <jigsaw-button style=\"margin-bottom:16px;\" jigsaw-upload\n                   [uploadContentField]=\"contentField.value\"\n                   [uploadFileNameField]=\"fileNameField.value\">上传\n    </jigsaw-button>\n    <br>\n    <j-upload [contentField]=\"contentField.value\" [fileNameField]=\"fileNameField.value\">\n    </j-upload>\n</div>\n\n\n\n","import {TranslateService, TranslateModule} from \"@ngx-translate/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule} from \"@angular/forms\";\nimport {NgModule} from \"@angular/core\";\nimport {PerfectScrollbarModule} from \"ngx-perfect-scrollbar\";\nimport {JigsawButtonModule} from \"../button/button\";\nimport {JigsawDraggableModule, JigsawDroppableModule} from \"../../common/directive/dragdrop/index\";\nimport {JigsawUploadFileInfoList, JigsawUploadDirective} from \"./upload.directive\";\nimport {JigsawUpload} from \"./upload\";\nimport {PopupService} from \"../../common/service/popup.service\";\nimport {InternalUtils} from \"../../common/core/utils/internal-utils\";\nimport {TranslateHelper} from \"../../common/core/utils/translate-helper\";\n\n@NgModule({\n    imports: [\n        JigsawButtonModule, PerfectScrollbarModule, JigsawDraggableModule,\n        JigsawDroppableModule, CommonModule, FormsModule, TranslateModule.forRoot()\n    ],\n    declarations: [JigsawUpload, JigsawUploadDirective, JigsawUploadFileInfoList],\n    exports: [JigsawUpload, JigsawUploadDirective],\n    entryComponents: [JigsawUploadFileInfoList],\n    providers: [PopupService, TranslateService],\n})\nexport class JigsawUploadModule {\n    constructor(translateService: TranslateService) {\n        InternalUtils.initI18n(translateService, 'upload', {\n            zh: {\n                \"waiting\": \"等待中\",\n                \"uploading\": \"上传中\",\n                \"done\": \"上传成功\",\n                \"failed\": \"上传失败\",\n                \"dragHere\": \"将文件拖拽到此处上传\",\n                \"selectFile\": \"选择文件\",\n\n                \"Bad Request\": \"错误详情：错误请求\",\n                \"Unauthorized\": \"错误详情：未授权\",\n                \"Payment Required\": \"错误详情：需要支付\",\n                \"Forbidden\": \"错误详情：禁止\",\n                \"Not Found\": \"错误详情：未找到\",\n                \"Method Not Allowed\": \"错误详情：方法禁用\",\n                \"Not Acceptable\": \"错误详情：不接受\",\n                \"Proxy Authentication Required\": \"错误详情：需要代理授权\",\n                \"Request Timeout\": \"错误详情：请求超时\",\n                \"Conflict\": \"错误详情：冲突\",\n                \"Gone\": \"错误详情：已删除\",\n                \"Length Required\": \"错误详情：需要有效长度\",\n                \"Precondition Failed\": \"错误详情：未满足前提条件\",\n                \"Request Entity Too Large\": \"错误详情：请求实体过大\",\n                \"Request-URI Too Long\": \"错误详情：请求的 URI 过长\",\n                \"Unsupported Media Type\": \"错误详情：不支持的媒体类型\",\n                \"Requested Range Not Satisfiable\": \"错误详情：请求范围不符合要求\",\n                \"Expectation Failed\": \"错误详情：未满足期望值\",\n                \"Authentication Timeout\": \"错误详情：授权超时\",\n                \"Unprocessable Entity\": \"错误详情：不可处理的请求实体\",\n                \"Locked\": \"错误详情：锁定\",\n                \"Failed Dependency\": \"错误详情：错误的依赖关系\",\n                \"Upgrade Required\": \"错误详情：需要更新\",\n                \"Precondition Required\": \"错误详情：需要前提条件\",\n                \"Too Many Requests\": \"错误详情：请求过多\",\n                \"Login Timeout\": \"错误详情：登陆超时\",\n                \"No Response\": \"错误详情：没有回应\",\n                \"Retry With;\": \"错误详情：请重试\",\n                \"Request Header Too Large\": \"错误详情：请求头部过大\",\n                \"Cert Error\": \"错误详情：证书错误\",\n                \"No Cert\": \"错误详情：无证书\",\n                \"HTTP to HTTPS\": \"错误详情：需要把http换为https\",\n                \"Client Closed Request\": \"错误详情：客户端关闭了请求\",\n                \"Internal Server Error\": \"错误详情：服务器内部错误\",\n                \"Not Implemented\": \"错误详情：尚未实施\",\n                \"Bad Gateway\": \"错误详情：错误网关\",\n                \"Service Unavailable\": \"错误详情：服务不可用\",\n                \"Gateway Timeout\": \"错误详情：网关超时\",\n                \"HTTP Version Not Supported\": \"错误详情：HTTP 版本不受支持\",\n                \"Variant Also Negotiates\": \"错误详情：变元协商\",\n                \"Insufficient Storage\": \"错误详情：储存空间不足\",\n                \"Loop Detected\": \"错误详情：检测到循环\",\n                \"Bandwidth Limit Exceeded\": \"错误详情：超过带宽限制\",\n                \"Not Extended\": \"错误详情：非扩展\",\n                \"Network Authentication Required\": \"错误详情：需要网络授权\",\n                \"Network read timeout error\": \"错误详情：网络读取超时错误\",\n                \"Network connect timeout error\": \"错误详情：网络连接超时错误\"\n            },\n            en: {\n                \"waiting\": \"Waiting\",\n                \"uploading\": \"Uploading\",\n                \"done\": \"Success to upload\",\n                \"failed\": \"Failed to upload\",\n                \"dragHere\": \"Drag and drop the file(s) here to upload\",\n                \"selectFile\": \"Select File\",\n\n                \"Bad Request\": \"Error detail: Bad Request\",\n                \"Unauthorized\": \"Error detail: Unauthorized\",\n                \"Payment Required\": \"Error detail: Payment Required\",\n                \"Forbidden\": \"Error detail: Forbidden\",\n                \"Not Found\": \"Error detail: Not Found\",\n                \"Method Not Allowed\": \"Error detail: Method Not Allowed\",\n                \"Not Acceptable\": \"Error detail: Not Acceptable\",\n                \"Proxy Authentication Required\": \"Error detail: Proxy Authentication Required\",\n                \"Request Timeout\": \"Error detail: Request Timeout\",\n                \"Conflict\": \"Error detail: Conflict\",\n                \"Gone\": \"Error detail: Gone\",\n                \"Length Required\": \"Error detail: Length Required\",\n                \"Precondition Failed\": \"Error detail: Precondition Failed\",\n                \"Request Entity Too Large\": \"Error detail: Request Entity Too Large\",\n                \"Request-URI Too Long\": \"Error detail: Request-URI Too Long\",\n                \"Unsupported Media Type\": \"Error detail: Unsupported Media Type\",\n                \"Requested Range Not Satisfiable\": \"Error detail: Requested Range Not Satisfiable\",\n                \"Expectation Failed\": \"Error detail: Expectation Failed\",\n                \"Authentication Timeout\": \"Error detail: Authentication Timeout\",\n                \"Unprocessable Entity\": \"Error detail: Unprocessable Entity\",\n                \"Locked\": \"Error detail: Locked\",\n                \"Failed Dependency\": \"Error detail: Failed Dependency\",\n                \"Upgrade Required\": \"Error detail: Upgrade Required\",\n                \"Precondition Required\": \"Error detail: Precondition Required\",\n                \"Too Many Requests\": \"Error detail: Too Many Requests\",\n                \"Login Timeout\": \"Error detail: Login Timeout\",\n                \"No Response\": \"Error detail: No Response\",\n                \"Retry With\": \"Error detail: Retry With\",\n                \"Request Header Too Large\": \"Error detail: Request Header Too Large\",\n                \"Cert Error\": \"Error detail: Cert Error\",\n                \"No Cert\": \"Error detail: No Cert\",\n                \"HTTP to HTTPS\": \"Error detail: HTTP to HTTPS\",\n                \"Client Closed Request\": \"Error detail: Client Closed Request\",\n                \"Internal Server Error\": \"Error detail: Internal Server Error\",\n                \"Not Implemented\": \"Error detail: Not Implemented\",\n                \"Bad Gateway\": \"Error detail: Bad Gateway\",\n                \"Service Unavailable\": \"Error detail: Service Unavailable\",\n                \"Gateway Timeout\": \"Error detail: Gateway Timeout\",\n                \"HTTP Version Not Supported\": \"Error detail: HTTP Version Not Supported\",\n                \"Variant Also Negotiates\": \"Error detail: Variant Also Negotiates\",\n                \"Insufficient Storage\": \"Error detail: Insufficient Storage\",\n                \"Loop Detected\": \"Error detail: Loop Detected\",\n                \"Bandwidth Limit Exceeded\": \"Error detail: Bandwidth Limit Exceeded\",\n                \"Not Extended\": \"Error detail: Not Extended\",\n                \"Network Authentication Required\": \"Error detail: Network Authentication Required\",\n                \"Network read timeout error\": \"Error detail: Network read timeout error\",\n                \"Network connect timeout error\": \"Error detail: Network connect timeout error\"\n            }\n        });\n        translateService.setDefaultLang(translateService.getBrowserLang());\n        TranslateHelper.languageChangEvent.subscribe(langInfo => {\n            translateService.use(langInfo.curLang);\n        });\n    }\n}\n\nexport * from './upload';\nexport * from './upload.base';\nexport * from './upload.directive';\n","import {NgModule} from \"@angular/core\";\nimport {JigsawDemoDescriptionModule} from \"app/demo-description/demo-description\";\nimport {UploadBasicDemoComponent} from \"./demo.component\";\nimport {JigsawUploadModule} from \"jigsaw/pc-components/upload/index\";\nimport {JigsawSwitchModule} from \"jigsaw/pc-components/switch/index\";\nimport {JigsawRadioLiteModule} from \"jigsaw/pc-components/radio/radio-lite\";\nimport {JigsawButtonModule} from \"jigsaw/pc-components/button/button\";\nimport {JigsawLoadingModule} from \"jigsaw/common/components/loading/loading\";\nimport {CommonModule} from \"@angular/common\";\n\n@NgModule({\n    declarations: [UploadBasicDemoComponent],\n    exports: [ UploadBasicDemoComponent ],\n    imports: [JigsawUploadModule, JigsawDemoDescriptionModule, JigsawSwitchModule,\n        JigsawRadioLiteModule, JigsawButtonModule, JigsawLoadingModule, CommonModule]\n})\nexport class UploadBasicDemoModule{\n\n}\n","import {NgModule} from \"@angular/core\";\nimport {UploadContentFieldDemoComponent} from \"./demo.component\";\nimport {JigsawUploadModule} from \"jigsaw/pc-components/upload/index\";\nimport {JigsawInputModule} from \"jigsaw/pc-components/input/input\";\nimport {JigsawDemoDescriptionModule} from \"app/demo-description/demo-description\";\nimport {JigsawButtonModule} from \"../../../../../jigsaw/pc-components/button/button\";\n\n@NgModule({\n    declarations: [UploadContentFieldDemoComponent],\n    exports: [ UploadContentFieldDemoComponent ],\n    imports: [JigsawDemoDescriptionModule, JigsawUploadModule, JigsawInputModule, JigsawButtonModule]\n})\nexport class UploadContentFieldDemoModule{\n\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./demo-set.module\";\nimport * as i2 from \"../../../../../node_modules/@angular/router/router.ngfactory\";\nimport * as i3 from \"../../../../jigsaw/pc-components/upload/upload.directive.ngfactory\";\nimport * as i4 from \"../../../../jigsaw/common/components/block/block.ngfactory\";\nimport * as i5 from \"../../../../jigsaw/common/components/loading/loading.ngfactory\";\nimport * as i6 from \"./basic/demo.component.ngfactory\";\nimport * as i7 from \"./content-field/demo.component.ngfactory\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"../../../../jigsaw/common/service/popup.service\";\nimport * as i11 from \"@angular/router\";\nimport * as i12 from \"../../../../jigsaw/pc-components/button/button\";\nimport * as i13 from \"ngx-perfect-scrollbar\";\nimport * as i14 from \"../../../../jigsaw/common/directive/dragdrop/index\";\nimport * as i15 from \"@ngx-translate/core\";\nimport * as i16 from \"../../../../jigsaw/pc-components/upload/index\";\nimport * as i17 from \"../../../markdown/markdown\";\nimport * as i18 from \"../../../demo-description/demo-description\";\nimport * as i19 from \"../../../../jigsaw/pc-components/switch/index\";\nimport * as i20 from \"../../../../jigsaw/pc-components/radio/radio\";\nimport * as i21 from \"../../../../jigsaw/pc-components/radio/radio-lite\";\nimport * as i22 from \"../../../../jigsaw/common/components/block/block\";\nimport * as i23 from \"../../../../jigsaw/common/components/loading/loading\";\nimport * as i24 from \"./basic/demo.module\";\nimport * as i25 from \"../../../../jigsaw/pc-components/input/input\";\nimport * as i26 from \"./content-field/demo.module\";\nimport * as i27 from \"./basic/demo.component\";\nimport * as i28 from \"./content-field/demo.component\";\nvar UploadDemoModuleNgFactory = i0.ɵcmf(i1.UploadDemoModule, [], function (_l) { return i0.ɵmod([i0.ɵmpd(512, i0.ComponentFactoryResolver, i0.ɵCodegenComponentFactoryResolver, [[8, [i2.ɵangular_packages_router_router_lNgFactory, i3.JigsawUploadFileInfoListNgFactory, i4.JigsawBlockNgFactory, i5.JigsawLoadingNgFactory, i5.JigsawBallLoadingNgFactory, i5.JigsawBubbleLoadingNgFactory, i5.JigsawFontLoadingNgFactory, i6.UploadBasicDemoComponentNgFactory, i7.UploadContentFieldDemoComponentNgFactory]], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.ɵmpd(4608, i8.NgLocalization, i8.NgLocaleLocalization, [i0.LOCALE_ID, [2, i8.ɵangular_packages_common_common_a]]), i0.ɵmpd(4608, i9.ɵangular_packages_forms_forms_o, i9.ɵangular_packages_forms_forms_o, []), i0.ɵmpd(4608, i10.PopupService, i10.PopupService, [i0.ComponentFactoryResolver, i0.NgZone, [2, i11.Router], [2, i11.ActivatedRoute]]), i0.ɵmpd(1073742336, i11.RouterModule, i11.RouterModule, [[2, i11.ɵangular_packages_router_router_a], [2, i11.Router]]), i0.ɵmpd(1073742336, i8.CommonModule, i8.CommonModule, []), i0.ɵmpd(1073742336, i12.JigsawButtonModule, i12.JigsawButtonModule, []), i0.ɵmpd(1073742336, i13.PerfectScrollbarModule, i13.PerfectScrollbarModule, []), i0.ɵmpd(1073742336, i14.JigsawDraggableModule, i14.JigsawDraggableModule, []), i0.ɵmpd(1073742336, i14.JigsawDroppableModule, i14.JigsawDroppableModule, []), i0.ɵmpd(1073742336, i9.ɵangular_packages_forms_forms_d, i9.ɵangular_packages_forms_forms_d, []), i0.ɵmpd(1073742336, i9.FormsModule, i9.FormsModule, []), i0.ɵmpd(1073742336, i15.TranslateModule, i15.TranslateModule, []), i0.ɵmpd(512, i15.TranslateStore, i15.TranslateStore, []), i0.ɵmpd(512, i15.TranslateLoader, i15.TranslateFakeLoader, []), i0.ɵmpd(512, i15.TranslateCompiler, i15.TranslateFakeCompiler, []), i0.ɵmpd(512, i15.TranslateParser, i15.TranslateDefaultParser, []), i0.ɵmpd(512, i15.MissingTranslationHandler, i15.FakeMissingTranslationHandler, []), i0.ɵmpd(256, i15.USE_DEFAULT_LANG, undefined, []), i0.ɵmpd(256, i15.USE_STORE, undefined, []), i0.ɵmpd(512, i15.TranslateService, i15.TranslateService, [i15.TranslateStore, i15.TranslateLoader, i15.TranslateCompiler, i15.TranslateParser, i15.MissingTranslationHandler, i15.USE_DEFAULT_LANG, i15.USE_STORE]), i0.ɵmpd(1073742336, i16.JigsawUploadModule, i16.JigsawUploadModule, [i15.TranslateService]), i0.ɵmpd(1073742336, i17.JigsawMarkdownModule, i17.JigsawMarkdownModule, []), i0.ɵmpd(1073742336, i18.JigsawDemoDescriptionModule, i18.JigsawDemoDescriptionModule, []), i0.ɵmpd(1073742336, i19.JigsawSwitchModule, i19.JigsawSwitchModule, []), i0.ɵmpd(1073742336, i20.JigsawRadioModule, i20.JigsawRadioModule, []), i0.ɵmpd(1073742336, i21.JigsawRadioLiteModule, i21.JigsawRadioLiteModule, []), i0.ɵmpd(1073742336, i22.JigsawBlockModule, i22.JigsawBlockModule, []), i0.ɵmpd(1073742336, i23.JigsawLoadingModule, i23.JigsawLoadingModule, []), i0.ɵmpd(1073742336, i24.UploadBasicDemoModule, i24.UploadBasicDemoModule, []), i0.ɵmpd(1073742336, i25.JigsawInputModule, i25.JigsawInputModule, []), i0.ɵmpd(1073742336, i26.UploadContentFieldDemoModule, i26.UploadContentFieldDemoModule, []), i0.ɵmpd(1073742336, i1.UploadDemoModule, i1.UploadDemoModule, []), i0.ɵmpd(1024, i11.ROUTES, function () { return [[{ path: \"basic\", component: i27.UploadBasicDemoComponent }, { path: \"content-field\", component: i28.UploadContentFieldDemoComponent }]]; }, [])]); });\nexport { UploadDemoModuleNgFactory as UploadDemoModuleNgFactory };\n","import {Component, Input, Output, EventEmitter, OnInit, forwardRef} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\n\n/**\n * @description 开关组件\n *\n * 何时使用\n * 只有两种状态切换时.\n */\n@Component({\n    selector: 'jigsaw-switch, j-switch',\n    templateUrl: './switch.html',\n    host: {\n        '[class.jigsaw-switch-host]': 'true',\n        '[class.jigsaw-switch-error]': '!valid'\n    },\n    providers: [\n        {provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => JigsawSwitch), multi: true},\n    ]\n})\n\nexport class JigsawSwitch implements ControlValueAccessor, OnInit {\n    @Input()\n    public valid: boolean = true;\n\n    /**\n     * @internal\n     */\n    public _$content: any; // 当前显示的内容.\n\n    /**\n     * 开关状态打开时的文本.(只支持字符串)\n     */\n    @Input()\n    public onLabel: any;\n\n    /**\n     * 开关状态关闭时显示的文本(只支持字符串)\n     */\n    @Input()\n    public offLabel: any;\n\n    /**\n     * size 默认 'default' 可选值 ‘small’\n     */\n    @Input()\n    public size: string = 'default';\n\n    private _checked: boolean = false;\n\n    /**\n     * 选中 默认值false;\n     *\n     */\n    @Input()\n    public get checked(): boolean  { return this._checked};\n    public set checked(value: boolean) {\n        this.writeValue(value);\n        this._propagateChange(value);\n    }\n\n    /**\n     * 可以忽略, 主要使checked 属性支持双向数据绑定.\n     */\n    @Output() public checkedChange = new EventEmitter<boolean>();\n\n    /**\n     * 对外暴露事件,\n     */\n    @Output() public change = this.checkedChange;\n\n    private _disabled: boolean = false;\n\n    /**\n     * 是否禁用 类型 boolean 默认值 false;\n     *\n     */\n    @Input()\n    public get disabled(): boolean { return this._disabled; };\n    public set disabled(value: boolean) {\n        this._disabled = value;\n        this._setSwitchClass();\n    }\n\n    /**\n     * @internal\n     */\n    public _$switchClick() {\n        if(!this.disabled) {\n            this.checked = !this.checked;\n\n            // 发出事件\n            this.checkedChange.emit(this.checked);\n            this._propagateChange(this.checked);\n        }\n    }\n\n    /**\n     * @internal\n     */\n    public _$switchClass: {};\n\n    /**\n     * 更新控件样式的方法\n     */\n    private _setSwitchClass() {\n        this._$switchClass = {\n            'jigsaw-switch': 'true',\n            'jigsaw-switch-small': this.size === 'small',\n            'jigsaw-switch-checked': this.checked,\n            'jigsaw-switch-disabled': this.disabled\n        }\n    }\n\n    /**\n     * 设置选中和费选中的值.\n     */\n    private _setInnerValue() {\n        this._$content = this.checked ? this.onLabel : this.offLabel;\n    }\n\n    public ngOnInit() {\n        this._setSwitchClass();\n        this._setInnerValue();\n    }\n\n    private _propagateChange: any = () => {};\n\n    public writeValue(value: any): void {\n        this._checked = !!value;\n        this._setSwitchClass();\n        this._setInnerValue();\n    }\n\n    public registerOnChange(fn: any): void {\n        this._propagateChange = fn;\n    }\n\n    public registerOnTouched(fn: any): void {\n    }\n}\n","import { EventEmitter, OnInit } from '@angular/core';\nimport { ControlValueAccessor } from \"@angular/forms\";\n/**\n * @description 开关组件\n *\n * 何时使用\n * 只有两种状态切换时.\n */\nvar JigsawSwitch = /** @class */ (function () {\n    function JigsawSwitch() {\n        this.valid = true;\n        /**\n         * size 默认 'default' 可选值 ‘small’\n         */\n        this.size = 'default';\n        this._checked = false;\n        /**\n         * 可以忽略, 主要使checked 属性支持双向数据绑定.\n         */\n        this.checkedChange = new EventEmitter();\n        /**\n         * 对外暴露事件,\n         */\n        this.change = this.checkedChange;\n        this._disabled = false;\n        this._propagateChange = function () { };\n    }\n    Object.defineProperty(JigsawSwitch.prototype, \"checked\", {\n        /**\n         * 选中 默认值false;\n         *\n         */\n        get: function () { return this._checked; },\n        set: function (value) {\n            this.writeValue(value);\n            this._propagateChange(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    Object.defineProperty(JigsawSwitch.prototype, \"disabled\", {\n        /**\n         * 是否禁用 类型 boolean 默认值 false;\n         *\n         */\n        get: function () { return this._disabled; },\n        set: function (value) {\n            this._disabled = value;\n            this._setSwitchClass();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ;\n    /**\n     * @internal\n     */\n    JigsawSwitch.prototype._$switchClick = function () {\n        if (!this.disabled) {\n            this.checked = !this.checked;\n            // 发出事件\n            this.checkedChange.emit(this.checked);\n            this._propagateChange(this.checked);\n        }\n    };\n    /**\n     * 更新控件样式的方法\n     */\n    JigsawSwitch.prototype._setSwitchClass = function () {\n        this._$switchClass = {\n            'jigsaw-switch': 'true',\n            'jigsaw-switch-small': this.size === 'small',\n            'jigsaw-switch-checked': this.checked,\n            'jigsaw-switch-disabled': this.disabled\n        };\n    };\n    /**\n     * 设置选中和费选中的值.\n     */\n    JigsawSwitch.prototype._setInnerValue = function () {\n        this._$content = this.checked ? this.onLabel : this.offLabel;\n    };\n    JigsawSwitch.prototype.ngOnInit = function () {\n        this._setSwitchClass();\n        this._setInnerValue();\n    };\n    JigsawSwitch.prototype.writeValue = function (value) {\n        this._checked = !!value;\n        this._setSwitchClass();\n        this._setInnerValue();\n    };\n    JigsawSwitch.prototype.registerOnChange = function (fn) {\n        this._propagateChange = fn;\n    };\n    JigsawSwitch.prototype.registerOnTouched = function (fn) {\n    };\n    return JigsawSwitch;\n}());\nexport { JigsawSwitch };\n","import * as tslib_1 from \"tslib\";\nimport { AbstractJigsawComponent } from \"../../common/common\";\nimport { AfterContentInit, ChangeDetectorRef, EventEmitter, OnDestroy, QueryList, OnInit } from \"@angular/core\";\nimport { CommonUtils } from \"../../common/core/utils/common-utils\";\nimport { ArrayCollection } from \"../../common/core/data/array-collection\";\nvar GroupOptionValue = /** @class */ (function () {\n    function GroupOptionValue() {\n    }\n    return GroupOptionValue;\n}());\nexport { GroupOptionValue };\nvar AbstractJigsawGroupComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(AbstractJigsawGroupComponent, _super);\n    function AbstractJigsawGroupComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.valid = true;\n        //设置对象的标识\n        _this._trackItemBy = [];\n        _this.autoRemoveInvalidValue = true;\n        _this._selectedItems = new ArrayCollection();\n        _this.selectedItemsChange = new EventEmitter();\n        _this._propagateChange = function () {\n        };\n        return _this;\n    }\n    Object.defineProperty(AbstractJigsawGroupComponent.prototype, \"trackItemBy\", {\n        get: function () {\n            return this._trackItemBy;\n        },\n        set: function (value) {\n            this._trackItemBy = typeof value === 'string' ? value.split(/\\s*,\\s*/g) : value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AbstractJigsawGroupComponent.prototype, \"selectedItems\", {\n        get: function () {\n            return this._selectedItems;\n        },\n        set: function (newValue) {\n            this.writeValue(newValue);\n            if (this._selectedItems === newValue) {\n                return;\n            }\n            this._propagateChange(newValue);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @internal\n     */\n    AbstractJigsawGroupComponent.prototype._removeInvalidSelectedItems = function () {\n        var _this = this;\n        if (!this._items || !this._selectedItems || !this._selectedItems.length) {\n            return;\n        }\n        var needRefresh = false;\n        var selectedItems = this._selectedItems.concat();\n        selectedItems.forEach(function (selectedItem) {\n            if (_this._items.find(function (item) { return CommonUtils.compareWithKeyProperty(item.value, selectedItem, _this._trackItemBy); })) {\n                return;\n            }\n            _this._selectedItems.splice(_this.selectedItems.indexOf(selectedItem), 1);\n            needRefresh = true;\n        });\n        if (needRefresh) {\n            this.selectedItemsChange.emit(this.selectedItems);\n        }\n    };\n    AbstractJigsawGroupComponent.prototype._updateSelectItems = function (itemValue, selected) {\n        var _this = this;\n        if (this.multipleSelect) { //多选\n            if (selected) {\n                this.selectedItems.push(itemValue);\n            }\n            else {\n                this._selectedItems.forEach(function (selectedItemValue) {\n                    if (CommonUtils.compareWithKeyProperty(selectedItemValue, itemValue, _this._trackItemBy)) {\n                        _this._selectedItems.splice(_this.selectedItems.indexOf(selectedItemValue), 1);\n                    }\n                });\n            }\n        }\n        else {\n            //单选选中\n            this._selectedItems.splice(0, this._selectedItems.length);\n            this.selectedItems.push(itemValue);\n        }\n        this._selectedItems.refresh();\n        this.selectedItemsChange.emit(this.selectedItems);\n    };\n    //根据选中的item更新selectedItems\n    AbstractJigsawGroupComponent.prototype._updateSelectItemsForForm = function (itemValue, selected) {\n        this._updateSelectItems(itemValue, selected);\n        this._propagateChange(this.selectedItems);\n    };\n    AbstractJigsawGroupComponent.prototype.update = function (itemValue, selected) {\n        this._updateSelectItemsForForm(itemValue, selected);\n    };\n    //根据selectedItems设置选中的option\n    AbstractJigsawGroupComponent.prototype._setItemState = function (items) {\n        var _this = this;\n        if (!(this.selectedItems instanceof ArrayCollection) || !items.length) {\n            return;\n        }\n        this.callLater(function () {\n            items.forEach(function (item) {\n                var hasSelected = false;\n                _this._selectedItems.forEach(function (selectedItem) {\n                    if (CommonUtils.compareWithKeyProperty(item.value, selectedItem, _this._trackItemBy)) {\n                        hasSelected = true;\n                    }\n                });\n                item.selected = hasSelected;\n            });\n        });\n    };\n    AbstractJigsawGroupComponent.prototype._subscribeItemSelectedChange = function (items) {\n        var _this = this;\n        items.forEach(function (item) {\n            // 取消可能重复的订阅事件\n            item.change.observers.length = 0;\n            item.change.subscribe(function () {\n                if (_this.multipleSelect) { //多选\n                    item.selected = !item.selected; //切换组件选中状态\n                    _this._updateSelectItemsForForm(item.value, item.selected);\n                }\n                else { //单选\n                    if (!item.selected) {\n                        item.selected = true;\n                        _this._updateSelectItemsForForm(item.value, item.selected);\n                    }\n                }\n            });\n        });\n    };\n    AbstractJigsawGroupComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        _super.prototype.ngOnInit.call(this);\n        if (this._removeRefreshCallback) {\n            this._removeRefreshCallback();\n        }\n        this._removeRefreshCallback = this._selectedItems.onRefresh(function () { return _this._setItemState(_this._items); });\n    };\n    AbstractJigsawGroupComponent.prototype.ngAfterContentInit = function () {\n        var _this = this;\n        this._setItemState(this._items);\n        this._subscribeItemSelectedChange(this._items);\n        this._removeItemsChanges = this._items.changes.subscribe(function (items) {\n            // 异步变更data数据\n            _this._setItemState(items);\n            _this._subscribeItemSelectedChange(items);\n        });\n        if (this._items.length && this.autoRemoveInvalidValue) {\n            // 在本地数据为空时，不检查无用选项\n            this._removeInvalidSelectedItems();\n        }\n    };\n    AbstractJigsawGroupComponent.prototype.ngOnDestroy = function () {\n        _super.prototype.ngOnDestroy.call(this);\n        if (this._removeRefreshCallback) {\n            this._removeRefreshCallback();\n        }\n        if (this._items) {\n            this._items.forEach(function (item) { return item.change.unsubscribe(); });\n        }\n        if (this._removeItemsChanges) {\n            this._removeItemsChanges.unsubscribe();\n        }\n    };\n    AbstractJigsawGroupComponent.prototype._setSelectedItems = function (newValue) {\n        var _this = this;\n        if (this._selectedItems === newValue) {\n            return;\n        }\n        newValue = newValue instanceof ArrayCollection ? newValue : new ArrayCollection(newValue);\n        this._selectedItems = newValue;\n        if (this.initialized) {\n            this._setItemState(this._items);\n        }\n        if (this._removeRefreshCallback) {\n            this._removeRefreshCallback();\n        }\n        this._removeRefreshCallback = this._selectedItems.onRefresh(function () { return _this._setItemState(_this._items); });\n    };\n    AbstractJigsawGroupComponent.prototype.writeValue = function (newValue) {\n        this._setSelectedItems(newValue);\n    };\n    AbstractJigsawGroupComponent.prototype.registerOnChange = function (fn) {\n        this._propagateChange = fn;\n    };\n    AbstractJigsawGroupComponent.prototype.registerOnTouched = function (fn) {\n    };\n    return AbstractJigsawGroupComponent;\n}(AbstractJigsawComponent));\nexport { AbstractJigsawGroupComponent };\nvar AbstractJigsawOptionComponent = /** @class */ (function (_super) {\n    tslib_1.__extends(AbstractJigsawOptionComponent, _super);\n    function AbstractJigsawOptionComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.disabled = false;\n        _this.selectedChange = new EventEmitter();\n        _this.selected = false; // 选中状态\n        _this.change = new EventEmitter();\n        return _this;\n    }\n    return AbstractJigsawOptionComponent;\n}(AbstractJigsawComponent));\nexport { AbstractJigsawOptionComponent };\n","import {AbstractJigsawComponent} from \"../../common/common\";\nimport {ControlValueAccessor} from \"@angular/forms\";\nimport {\n    AfterContentInit,\n    ChangeDetectorRef,\n    EventEmitter,\n    Input,\n    OnDestroy,\n    Output,\n    QueryList,\n    OnInit\n} from \"@angular/core\";\nimport {CallbackRemoval, CommonUtils} from \"../../common/core/utils/common-utils\";\nimport {ArrayCollection} from \"../../common/core/data/array-collection\";\nimport {Subscription} from \"rxjs\";\n\nexport class GroupOptionValue {\n    [index: string]: any;\n\n    disabled?: boolean;\n}\n\nexport class AbstractJigsawGroupComponent extends AbstractJigsawComponent implements ControlValueAccessor, AfterContentInit, OnDestroy, OnInit {\n\n    protected _removeRefreshCallback: CallbackRemoval;\n    private _removeItemsChanges: Subscription;\n\n    @Input()\n    public valid: boolean = true;\n\n    //设置对象的标识\n    private _trackItemBy: string[] = [];\n\n    @Input()\n    public get trackItemBy(): string | string[] {\n        return this._trackItemBy;\n    }\n\n    public set trackItemBy(value: string | string[]) {\n        this._trackItemBy = typeof value === 'string' ? value.split(/\\s*,\\s*/g) : value;\n    }\n\n    //判断是否支持多选\n    @Input() public multipleSelect: boolean;\n\n    @Input() public autoRemoveInvalidValue: boolean = true;\n\n    protected _selectedItems = new ArrayCollection<any>();\n\n    @Input()\n    public get selectedItems(): ArrayCollection<any> | any[] {\n        return this._selectedItems;\n    }\n\n    public set selectedItems(newValue: ArrayCollection<any> | any[]) {\n        this.writeValue(newValue);\n        if (this._selectedItems === newValue) {\n            return;\n        }\n        this._propagateChange(newValue);\n    }\n\n    /**\n     * @internal\n     */\n    public _removeInvalidSelectedItems(): void {\n        if (!this._items || !this._selectedItems || !this._selectedItems.length) {\n            return;\n        }\n        let needRefresh = false;\n        let selectedItems = this._selectedItems.concat();\n        selectedItems.forEach(selectedItem => {\n            if (this._items.find(item => CommonUtils.compareWithKeyProperty(item.value, selectedItem, this._trackItemBy))) {\n                return;\n            }\n            this._selectedItems.splice(this.selectedItems.indexOf(selectedItem), 1);\n            needRefresh = true;\n        });\n        if(needRefresh) {\n            this.selectedItemsChange.emit(this.selectedItems);\n        }\n    }\n\n    @Output() public selectedItemsChange = new EventEmitter<any[]>();\n\n    //获取映射的items\n    protected _items: QueryList<AbstractJigsawOptionComponent>;\n\n    protected _updateSelectItems(itemValue, selected): void {\n        if (this.multipleSelect) { //多选\n            if (selected) {\n                this.selectedItems.push(itemValue);\n            } else {\n                this._selectedItems.forEach(selectedItemValue => {\n                    if (CommonUtils.compareWithKeyProperty(selectedItemValue, itemValue, this._trackItemBy)) {\n                        this._selectedItems.splice(this.selectedItems.indexOf(selectedItemValue), 1);\n                    }\n                });\n            }\n        } else {\n            //单选选中\n            this._selectedItems.splice(0, this._selectedItems.length);\n            this.selectedItems.push(itemValue);\n        }\n        this._selectedItems.refresh();\n        this.selectedItemsChange.emit(this.selectedItems);\n    }\n\n    //根据选中的item更新selectedItems\n    protected _updateSelectItemsForForm(itemValue, selected): void {\n        this._updateSelectItems(itemValue, selected);\n        this._propagateChange(this.selectedItems);\n    }\n\n    public update(itemValue, selected) {\n        this._updateSelectItemsForForm(itemValue, selected);\n    }\n\n    //根据selectedItems设置选中的option\n    protected _setItemState(items: QueryList<AbstractJigsawOptionComponent>): void {\n        if (!(this.selectedItems instanceof ArrayCollection) || !items.length) {\n            return;\n        }\n        this.callLater(() => {\n            items.forEach(item => {\n                let hasSelected = false;\n                this._selectedItems.forEach(selectedItem => {\n                    if (CommonUtils.compareWithKeyProperty(item.value, selectedItem, this._trackItemBy)) {\n                        hasSelected = true;\n                    }\n                });\n                item.selected = hasSelected;\n            });\n        });\n    }\n\n    private _subscribeItemSelectedChange(items: QueryList<AbstractJigsawOptionComponent>) {\n        items.forEach(item => {\n            // 取消可能重复的订阅事件\n            item.change.observers.length = 0;\n            item.change.subscribe(() => {\n                if (this.multipleSelect) { //多选\n                    item.selected = !item.selected;//切换组件选中状态\n                    this._updateSelectItemsForForm(item.value, item.selected);\n                } else { //单选\n                    if (!item.selected) {\n                        item.selected = true;\n                        this._updateSelectItemsForForm(item.value, item.selected);\n                    }\n                }\n            })\n        });\n    }\n\n    ngOnInit() {\n        super.ngOnInit();\n        if (this._removeRefreshCallback) {\n            this._removeRefreshCallback()\n        }\n        this._removeRefreshCallback = this._selectedItems.onRefresh(() => this._setItemState(this._items));\n    }\n\n    ngAfterContentInit() {\n        this._setItemState(this._items);\n        this._subscribeItemSelectedChange(this._items);\n        this._removeItemsChanges = this._items.changes.subscribe(items => {\n            // 异步变更data数据\n            this._setItemState(items);\n            this._subscribeItemSelectedChange(items);\n        });\n        if (this._items.length && this.autoRemoveInvalidValue) {\n            // 在本地数据为空时，不检查无用选项\n            this._removeInvalidSelectedItems();\n        }\n    }\n\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        if (this._removeRefreshCallback) {\n            this._removeRefreshCallback()\n        }\n        if (this._items) {\n            this._items.forEach(item => item.change.unsubscribe());\n        }\n        if (this._removeItemsChanges) {\n            this._removeItemsChanges.unsubscribe();\n        }\n    }\n\n    protected _propagateChange: any = () => {\n    };\n\n    protected _setSelectedItems(newValue: any): void {\n        if (this._selectedItems === newValue) {\n            return;\n        }\n        newValue = newValue instanceof ArrayCollection ? newValue : new ArrayCollection(newValue);\n\n        this._selectedItems = newValue;\n        if (this.initialized) {\n            this._setItemState(this._items);\n        }\n\n        if (this._removeRefreshCallback) {\n            this._removeRefreshCallback();\n        }\n        this._removeRefreshCallback = this._selectedItems.onRefresh(() => this._setItemState(this._items));\n    }\n\n    public writeValue(newValue: any): void {\n        this._setSelectedItems(newValue);\n    }\n\n    public registerOnChange(fn: any): void {\n        this._propagateChange = fn;\n    }\n\n    public registerOnTouched(fn: any): void {\n    }\n}\n\nexport class AbstractJigsawOptionComponent extends AbstractJigsawComponent {\n    @Input() public value: any;\n\n    @Input() public disabled: boolean = false;\n\n    @Output()\n    public selectedChange = new EventEmitter<boolean>();\n\n    @Input()\n    public selected: boolean = false; // 选中状态\n\n    @Output()\n    public change = new EventEmitter<AbstractJigsawOptionComponent>();\n\n    public changeDetector: ChangeDetectorRef\n\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"./switch\";\nvar styles_JigsawSwitch = [];\nvar RenderType_JigsawSwitch = i0.ɵcrt({ encapsulation: 2, styles: styles_JigsawSwitch, data: {} });\nexport { RenderType_JigsawSwitch as RenderType_JigsawSwitch };\nexport function View_JigsawSwitch_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 4, \"div\", [], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co._$switchClick() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), i0.ɵprd(512, null, i1.ɵNgClassImpl, i1.ɵNgClassR2Impl, [i0.IterableDiffers, i0.KeyValueDiffers, i0.ElementRef, i0.Renderer2]), i0.ɵdid(2, 278528, null, 0, i1.NgClass, [i1.ɵNgClassImpl], { ngClass: [0, \"ngClass\"] }, null), (_l()(), i0.ɵeld(3, 0, null, null, 1, \"div\", [[\"class\", \"jigsaw-switch-inner\"]], null, null, null, null, null)), (_l()(), i0.ɵted(4, null, [\"\", \"\"]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co._$switchClass; _ck(_v, 2, 0, currVal_0); }, function (_ck, _v) { var _co = _v.component; var currVal_1 = _co._$content; _ck(_v, 4, 0, currVal_1); }); }\nexport function View_JigsawSwitch_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 2, \"jigsaw-switch\", [], [[2, \"jigsaw-switch-host\", null], [2, \"jigsaw-switch-error\", null]], null, null, View_JigsawSwitch_0, RenderType_JigsawSwitch)), i0.ɵprd(5120, null, i2.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i3.JigsawSwitch]), i0.ɵdid(2, 114688, null, 0, i3.JigsawSwitch, [], null, null)], function (_ck, _v) { _ck(_v, 2, 0); }, function (_ck, _v) { var currVal_0 = true; var currVal_1 = !i0.ɵnov(_v, 2).valid; _ck(_v, 0, 0, currVal_0, currVal_1); }); }\nvar JigsawSwitchNgFactory = i0.ɵccf(\"jigsaw-switch, j-switch\", i3.JigsawSwitch, View_JigsawSwitch_Host_0, { valid: \"valid\", onLabel: \"onLabel\", offLabel: \"offLabel\", size: \"size\", checked: \"checked\", disabled: \"disabled\" }, { checkedChange: \"checkedChange\", change: \"change\" }, []);\nexport { JigsawSwitchNgFactory as JigsawSwitchNgFactory };\n","<div [ngClass]=\"_$switchClass\" (click)=\"_$switchClick()\">\n    <div class=\"jigsaw-switch-inner\">{{_$content}}</div>\n</div>\n","/**\n * Created by 10177553 on 2017/3/16.\n */\nimport { NgModule } from '@angular/core';\nimport {CommonModule} from \"@angular/common\";\n\nimport { JigsawSwitch } from './switch';\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [JigsawSwitch],\n    declarations: [JigsawSwitch],\n    providers: [],\n})\nexport class JigsawSwitchModule { }\n\nexport * from './switch';\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./input\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nvar JigsawInputModuleNgFactory = i0.ɵcmf(i1.JigsawInputModule, [], function (_l) { return i0.ɵmod([i0.ɵmpd(512, i0.ComponentFactoryResolver, i0.ɵCodegenComponentFactoryResolver, [[8, []], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.ɵmpd(4608, i2.NgLocalization, i2.NgLocaleLocalization, [i0.LOCALE_ID, [2, i2.ɵangular_packages_common_common_a]]), i0.ɵmpd(4608, i3.ɵangular_packages_forms_forms_o, i3.ɵangular_packages_forms_forms_o, []), i0.ɵmpd(1073742336, i2.CommonModule, i2.CommonModule, []), i0.ɵmpd(1073742336, i3.ɵangular_packages_forms_forms_d, i3.ɵangular_packages_forms_forms_d, []), i0.ɵmpd(1073742336, i3.FormsModule, i3.FormsModule, []), i0.ɵmpd(1073742336, i1.JigsawInputModule, i1.JigsawInputModule, [])]); });\nexport { JigsawInputModuleNgFactory as JigsawInputModuleNgFactory };\nvar styles_JigsawInput = [];\nvar RenderType_JigsawInput = i0.ɵcrt({ encapsulation: 2, styles: styles_JigsawInput, data: {} });\nexport { RenderType_JigsawInput as RenderType_JigsawInput };\nfunction View_JigsawInput_1(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, \"span\", [[\"class\", \"jigsaw-input-clear-bar\"]], [[8, \"hidden\", 0]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co._$clearValue() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i0.ɵted(-1, null, [\"\\u00D7\"]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.value; _ck(_v, 0, 0, currVal_0); }); }\nexport function View_JigsawInput_0(_l) { return i0.ɵvid(0, [i0.ɵqud(671088640, 1, { _inputElement: 0 }), (_l()(), i0.ɵeld(1, 0, null, null, 13, \"div\", [[\"class\", \"jigsaw-input-wrapper\"]], null, null, null, null, null)), (_l()(), i0.ɵeld(2, 0, null, null, 1, \"div\", [[\"class\", \"jigsaw-input-icon-front\"]], null, null, null, null, null)), i0.ɵncd(null, 0), i0.ɵncd(null, 1), (_l()(), i0.ɵeld(5, 0, [[1, 0], [\"input\", 1]], null, 5, \"input\", [], [[8, \"placeholder\", 0], [8, \"type\", 0], [2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"ngModelChange\"], [null, \"blur\"], [null, \"focus\"], [null, \"input\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"input\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 6)._handleInput($event.target.value) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"blur\" === en)) {\n        var pd_1 = (i0.ɵnov(_v, 6).onTouched() !== false);\n        ad = (pd_1 && ad);\n    } if ((\"compositionstart\" === en)) {\n        var pd_2 = (i0.ɵnov(_v, 6)._compositionStart() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"compositionend\" === en)) {\n        var pd_3 = (i0.ɵnov(_v, 6)._compositionEnd($event.target.value) !== false);\n        ad = (pd_3 && ad);\n    } if ((\"ngModelChange\" === en)) {\n        var pd_4 = ((_co.value = $event) !== false);\n        ad = (pd_4 && ad);\n    } if ((\"blur\" === en)) {\n        var pd_5 = (_co._$handleBlur($event) !== false);\n        ad = (pd_5 && ad);\n    } if ((\"focus\" === en)) {\n        var pd_6 = (_co._$handleFocus($event) !== false);\n        ad = (pd_6 && ad);\n    } return ad; }, null, null)), i0.ɵdid(6, 16384, null, 0, i3.DefaultValueAccessor, [i0.Renderer2, i0.ElementRef, [2, i3.COMPOSITION_BUFFER_MODE]], null, null), i0.ɵprd(1024, null, i3.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i3.DefaultValueAccessor]), i0.ɵdid(8, 671744, null, 0, i3.NgModel, [[8, null], [8, null], [8, null], [6, i3.NG_VALUE_ACCESSOR]], { isDisabled: [0, \"isDisabled\"], model: [1, \"model\"] }, { update: \"ngModelChange\" }), i0.ɵprd(2048, null, i3.NgControl, null, [i3.NgModel]), i0.ɵdid(10, 16384, null, 0, i3.NgControlStatus, [[4, i3.NgControl]], null, null), (_l()(), i0.ɵeld(11, 0, null, null, 3, \"div\", [[\"class\", \"jigsaw-input-icon-end\"]], null, null, null, null, null)), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_JigsawInput_1)), i0.ɵdid(13, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), i0.ɵncd(null, 2)], function (_ck, _v) { var _co = _v.component; var currVal_9 = _co.disabled; var currVal_10 = _co.value; _ck(_v, 8, 0, currVal_9, currVal_10); var currVal_11 = (_co.clearable && !_co.disabled); _ck(_v, 13, 0, currVal_11); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.placeholder; var currVal_1 = _co.type; var currVal_2 = i0.ɵnov(_v, 10).ngClassUntouched; var currVal_3 = i0.ɵnov(_v, 10).ngClassTouched; var currVal_4 = i0.ɵnov(_v, 10).ngClassPristine; var currVal_5 = i0.ɵnov(_v, 10).ngClassDirty; var currVal_6 = i0.ɵnov(_v, 10).ngClassValid; var currVal_7 = i0.ɵnov(_v, 10).ngClassInvalid; var currVal_8 = i0.ɵnov(_v, 10).ngClassPending; _ck(_v, 5, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8); }); }\nexport function View_JigsawInput_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 2, \"jigsaw-input\", [], [[4, \"width\", null], [4, \"height\", null], [2, \"jigsaw-input\", null], [2, \"jigsaw-input-error\", null], [2, \"jigsaw-input-focused\", null], [2, \"jigsaw-input-disabled\", null]], [[null, \"click\"]], function (_v, en, $event) { var ad = true; if ((\"click\" === en)) {\n        var pd_0 = (i0.ɵnov(_v, 2)._$stopPropagation($event) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, View_JigsawInput_0, RenderType_JigsawInput)), i0.ɵprd(5120, null, i3.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i1.JigsawInput]), i0.ɵdid(2, 245760, null, 0, i1.JigsawInput, [], null, null)], function (_ck, _v) { _ck(_v, 2, 0); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 2).width; var currVal_1 = i0.ɵnov(_v, 2).height; var currVal_2 = true; var currVal_3 = !i0.ɵnov(_v, 2).valid; var currVal_4 = i0.ɵnov(_v, 2).focused; var currVal_5 = i0.ɵnov(_v, 2).disabled; _ck(_v, 0, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5); }); }\nvar JigsawInputNgFactory = i0.ɵccf(\"jigsaw-input, j-input\", i1.JigsawInput, View_JigsawInput_Host_0, { basicClass: \"basicClass\", width: \"width\", height: \"height\", maxHeight: \"maxHeight\", clearable: \"clearable\", disabled: \"disabled\", valid: \"valid\", password: \"password\", type: \"type\", value: \"value\", placeholder: \"placeholder\", blurOnClear: \"blurOnClear\" }, { _focusEmitter: \"focus\", _blurEmitter: \"blur\", valueChange: \"valueChange\" }, [\"[jigsaw-prefix-icon], [j-prefix-icon]\", \"*\", \"[jigsaw-icon], [j-icon]\"]);\nexport { JigsawInputNgFactory as JigsawInputNgFactory };\n","<div class=\"jigsaw-input-wrapper\">\n    <div class=\"jigsaw-input-icon-front\">\n        <ng-content select=\"[jigsaw-prefix-icon], [j-prefix-icon]\"></ng-content>\n    </div>\n    <ng-content></ng-content>\n    <input #input\n           [placeholder]=\"placeholder\"\n           [(ngModel)]=\"value\"\n           [disabled]=\"disabled\"\n           (blur)=\"_$handleBlur($event)\"\n           (focus)=\"_$handleFocus($event)\"\n           [type]=\"type\" >\n    <div class=\"jigsaw-input-icon-end\">\n        <span *ngIf=\"clearable && !disabled\" (click)=\"_$clearValue()\" [hidden]=\"!value\" class=\"jigsaw-input-clear-bar\">&times;</span>\n        <ng-content select=\"[jigsaw-icon], [j-icon]\"></ng-content>\n    </div>\n</div>\n","import * as tslib_1 from \"tslib\";\nimport { EventEmitter, ElementRef } from \"@angular/core\";\nimport { ControlValueAccessor } from \"@angular/forms\";\nimport { AbstractJigsawComponent } from \"../../common/common\";\nimport { CommonUtils } from \"../../common/core/utils/common-utils\";\n/**\n * 单行输入框组件，常常用于接收用户的文本输入。\n *\n * 支持前后置图标，且每个图标都可交互，[参考demo]($demo=input/icons)。\n *\n * 这是一个表单友好组件。\n *\n * $demo = input/full\n */\nvar JigsawInput = /** @class */ (function (_super) {\n    tslib_1.__extends(JigsawInput, _super);\n    function JigsawInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * 在文本框里的文本非空时，是否显示快速清除按钮，默认为显示。用户单击了清除按钮时，文本框里的文本立即被清空。\n         *\n         * $demo = input/clearable\n         */\n        _this.clearable = true;\n        /**\n         * 设置按钮不可交互状态的开关，为true则不可交互，为false则可交互。\n         *\n         * $demo = input/disabled\n         */\n        _this.disabled = false;\n        /**\n         * 当用户输入非法时，组件给予样式上的提示，以提升易用性，常常和表单配合使用。\n         *\n         * $demo = input/valid\n         * $demo = form/template-driven\n         */\n        _this.valid = true;\n        /**\n         * 当用户设置类型为password时，输入内容隐藏为特殊字符。\n         *\n         * $demo = input/password\n         */\n        _this.password = false;\n        _this._focusEmitter = new EventEmitter();\n        _this._blurEmitter = new EventEmitter();\n        _this._propagateChange = function () {\n        };\n        _this._value = ''; //input表单值\n        /**\n         * 当文本框中的文本发生变化时，组件会发出此事件。\n         *\n         * $demo = input/value-change\n         */\n        _this.valueChange = new EventEmitter();\n        _this._placeholder = '';\n        _this._focused = false;\n        /**\n         * 在单击了清除文本按钮时，是否让文本失去焦点，默认为失去焦点。\n         * 一般来说，是否失去焦点关系不大，但是在一些特定场合，却有很大关系。`JigsawTable`的默认单元格编辑渲染就是`JigsawInput`组件，\n         * 按照`JigsawTable`的交互逻辑，单元格编辑器一旦失去焦点，就必须退回到单元格显示渲染器。\n         * 在这个情况下，用户单击了清除文本按钮时就不能让输入框失去焦点。参考[这个demo]($demo=table/update-column-define)的职位列\n         *\n         * $demo = table/update-column-define\n         */\n        _this.blurOnClear = true;\n        return _this;\n    }\n    Object.defineProperty(JigsawInput.prototype, \"type\", {\n        get: function () {\n            return this.password ? \"password\" : \"text\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    JigsawInput.prototype.writeValue = function (value) {\n        if (CommonUtils.isUndefined(value)) {\n            return;\n        }\n        this._value = value.toString();\n    };\n    JigsawInput.prototype.registerOnChange = function (fn) {\n        this._propagateChange = fn;\n    };\n    JigsawInput.prototype.registerOnTouched = function (fn) {\n    };\n    Object.defineProperty(JigsawInput.prototype, \"value\", {\n        /**\n         * 文本框中当前的文本\n         *\n         * $demo = input/valid\n         */\n        get: function () {\n            return this._value;\n        },\n        set: function (newValue) {\n            if (CommonUtils.isUndefined(newValue) || this._value === newValue) {\n                return;\n            }\n            this._value = newValue;\n            this.valueChange.emit(this._value);\n            this._propagateChange(this._value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(JigsawInput.prototype, \"placeholder\", {\n        get: function () {\n            return this._placeholder;\n        },\n        /**\n         * 当文本框内无文本时，显示这些文本以提示用户如何输入。\n         *\n         * $demo = input/valid\n         */\n        set: function (txt) {\n            this._placeholder = txt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * 调用此方法可以通过编程方式使得文本获得焦点。\n     * 当确信用户需要在文本框中输入时，自动让文本框获得焦点可以提升体验。\n     *\n     * $demo = input/focus\n     */\n    JigsawInput.prototype.focus = function () {\n        this._focused = true;\n        this._inputElement.nativeElement.focus();\n    };\n    /**\n     * 调用此方法可以通过编程方式选中文本框中的所有文本。\n     * 当确信用户需要修改文本框里的文本时，自动选中所有文本可以提升体验。\n     *\n     * $demo = input/select\n     */\n    JigsawInput.prototype.select = function () {\n        this._inputElement.nativeElement.select();\n    };\n    /**\n     * @internal\n     */\n    JigsawInput.prototype._$clearValue = function () {\n        this.value = '';\n        this.focus();\n    };\n    Object.defineProperty(JigsawInput.prototype, \"focused\", {\n        /**\n         * 获取文本框是否有焦点\n         *\n         * $demo = input/focus\n         */\n        get: function () {\n            return this._focused;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @internal\n     */\n    JigsawInput.prototype._$handleFocus = function (event) {\n        this._focused = true;\n        this._focusEmitter.emit(event);\n    };\n    /**\n     * @internal\n     */\n    JigsawInput.prototype._$handleBlur = function (event) {\n        var _this = this;\n        this._focused = false;\n        if (this.blurOnClear) {\n            this._blurEmitter.emit(event);\n        }\n        else {\n            this.callLater(function () {\n                if (!_this._focused) {\n                    _this._blurEmitter.emit(event);\n                }\n            }, 150);\n        }\n    };\n    /**\n     * @internal\n     */\n    JigsawInput.prototype._$stopPropagation = function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n    return JigsawInput;\n}(AbstractJigsawComponent));\nexport { JigsawInput };\nvar JigsawInputModule = /** @class */ (function () {\n    function JigsawInputModule() {\n    }\n    return JigsawInputModule;\n}());\nexport { JigsawInputModule };\n","import {\n    NgModule, Component, EventEmitter, Input, Output, ElementRef, ViewChild, forwardRef\n} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {ControlValueAccessor, FormsModule, NG_VALUE_ACCESSOR} from \"@angular/forms\";\nimport {AbstractJigsawComponent, IJigsawFormControl} from \"../../common/common\";\nimport {CommonUtils} from \"../../common/core/utils/common-utils\";\n\n/**\n * 单行输入框组件，常常用于接收用户的文本输入。\n *\n * 支持前后置图标，且每个图标都可交互，[参考demo]($demo=input/icons)。\n *\n * 这是一个表单友好组件。\n *\n * $demo = input/full\n */\n@Component({\n    selector: 'jigsaw-input, j-input',\n    templateUrl: 'input.html',\n    host: {\n        '[style.width]': 'width',\n        '[style.height]': 'height',\n        '(click)': '_$stopPropagation($event)',\n        '[class.jigsaw-input]': 'true',\n        '[class.jigsaw-input-error]': '!valid',\n        '[class.jigsaw-input-focused]': 'focused',\n        '[class.jigsaw-input-disabled]': 'disabled'\n    },\n    providers: [\n        {provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => JigsawInput), multi: true},\n    ]\n})\nexport class JigsawInput extends AbstractJigsawComponent implements IJigsawFormControl, ControlValueAccessor {\n\n    /**\n     * 在文本框里的文本非空时，是否显示快速清除按钮，默认为显示。用户单击了清除按钮时，文本框里的文本立即被清空。\n     *\n     * $demo = input/clearable\n     */\n    @Input() public clearable: boolean = true;\n\n    /**\n     * 设置按钮不可交互状态的开关，为true则不可交互，为false则可交互。\n     *\n     * $demo = input/disabled\n     */\n    @Input() public disabled: boolean = false;\n\n    /**\n     * 当用户输入非法时，组件给予样式上的提示，以提升易用性，常常和表单配合使用。\n     *\n     * $demo = input/valid\n     * $demo = form/template-driven\n     */\n    @Input() public valid: boolean = true;\n\n\n    /**\n     * 当用户设置类型为password时，输入内容隐藏为特殊字符。\n     *\n     * $demo = input/password\n     */\n    @Input() public password: boolean = false;\n\n    @Input()\n    public get type(): string {\n        return this.password ? \"password\" : \"text\";\n    }\n\n    @Output('focus')\n    private _focusEmitter: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n    @Output('blur')\n    private _blurEmitter: EventEmitter<FocusEvent> = new EventEmitter<FocusEvent>();\n\n    private _propagateChange: any = () => {\n    };\n\n    public writeValue(value: any): void {\n        if (CommonUtils.isUndefined(value)) {\n            return;\n        }\n        this._value = value.toString();\n    }\n\n    public registerOnChange(fn: any): void {\n        this._propagateChange = fn;\n    }\n\n    public registerOnTouched(fn: any): void {\n    }\n\n    private _value: string = ''; //input表单值\n\n    /**\n     * 文本框中当前的文本\n     *\n     * $demo = input/valid\n     */\n    @Input()\n    public get value(): string {\n        return this._value;\n    }\n\n    public set value(newValue: string) {\n        if (CommonUtils.isUndefined(newValue) || this._value === newValue) {\n            return;\n        }\n        this._value = newValue;\n        this.valueChange.emit(this._value);\n        this._propagateChange(this._value);\n    }\n\n    /**\n     * 当文本框中的文本发生变化时，组件会发出此事件。\n     *\n     * $demo = input/value-change\n     */\n    @Output()\n    public valueChange: EventEmitter<string> = new EventEmitter<string>();\n\n    private _placeholder: string = '';\n\n    /**\n     * 当文本框内无文本时，显示这些文本以提示用户如何输入。\n     *\n     * $demo = input/valid\n     */\n    @Input()\n    public set placeholder(txt: string) {\n        this._placeholder = txt;\n    }\n\n    public get placeholder() {\n        return this._placeholder;\n    }\n\n\n    @ViewChild('input', {static: false})\n    private _inputElement: ElementRef;\n\n    /**\n     * 调用此方法可以通过编程方式使得文本获得焦点。\n     * 当确信用户需要在文本框中输入时，自动让文本框获得焦点可以提升体验。\n     *\n     * $demo = input/focus\n     */\n    public focus() {\n        this._focused = true;\n        this._inputElement.nativeElement.focus();\n    }\n\n    /**\n     * 调用此方法可以通过编程方式选中文本框中的所有文本。\n     * 当确信用户需要修改文本框里的文本时，自动选中所有文本可以提升体验。\n     *\n     * $demo = input/select\n     */\n    public select() {\n        this._inputElement.nativeElement.select();\n    }\n\n    /**\n     * @internal\n     */\n    public _$clearValue(): void {\n        this.value = '';\n        this.focus();\n    }\n\n    private _focused: boolean = false;\n\n    /**\n     * 获取文本框是否有焦点\n     *\n     * $demo = input/focus\n     */\n    public get focused(): boolean {\n        return this._focused;\n    }\n\n    /**\n     * @internal\n     */\n    public _$handleFocus(event: FocusEvent) {\n        this._focused = true;\n        this._focusEmitter.emit(event);\n    }\n\n    /**\n     * 在单击了清除文本按钮时，是否让文本失去焦点，默认为失去焦点。\n     * 一般来说，是否失去焦点关系不大，但是在一些特定场合，却有很大关系。`JigsawTable`的默认单元格编辑渲染就是`JigsawInput`组件，\n     * 按照`JigsawTable`的交互逻辑，单元格编辑器一旦失去焦点，就必须退回到单元格显示渲染器。\n     * 在这个情况下，用户单击了清除文本按钮时就不能让输入框失去焦点。参考[这个demo]($demo=table/update-column-define)的职位列\n     *\n     * $demo = table/update-column-define\n     */\n    @Input()\n    public blurOnClear: boolean = true;\n\n    /**\n     * @internal\n     */\n    public _$handleBlur(event: FocusEvent) {\n        this._focused = false;\n        if (this.blurOnClear) {\n            this._blurEmitter.emit(event);\n        } else {\n            this.callLater(() => {\n                if (!this._focused) {\n                    this._blurEmitter.emit(event);\n                }\n            }, 150);\n        }\n    }\n\n    /**\n     * @internal\n     */\n    public _$stopPropagation(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n}\n\n@NgModule({\n    imports: [CommonModule, FormsModule],\n    declarations: [JigsawInput],\n    exports: [JigsawInput],\n})\nexport class JigsawInputModule {\n\n}\n"],"sourceRoot":""}